<!DOCTYPE html><html lang="zh-TW"><head><title>Big Data and Society</title><meta property="og:title" content="Big Data and Society"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><style>@media screen{body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{appearance:none;background-color:initial;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear;-webkit-tap-highlight-color:transparent}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover{opacity:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:active{opacity:.6}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTAgMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJtMzIgOTAgNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNNDAgNzBIMjBWNTBtMjAgMEwyMCA3MG00MC00MGgyMHYyMG0tMjAgMCAyMC0yMCIgY2xhc3M9ImEiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNMjAgNTBoMjB2MjBtLTIwIDAgMjAtMjBtNDAgMEg2MFYzMG0yMCAwTDYwIDUwIiBjbGFzcz0iYSIvPjwvc3ZnPg==")}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNODcuOCA0Ny41Qzg5IDUwIDg3LjcgNTIgODUgNTJIMzVhOC43IDguNyAwIDAgMS03LjItNC41bC0xNS42LTMxQzExIDE0IDEyLjIgMTIgMTUgMTJoNTBhOC44IDguOCAwIDAgMSA3LjIgNC41ek02MCA1MnYzNm0tMTAgMGgyME00NSA0MmgyMCIvPjwvc3ZnPg==") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-bigger{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODBNNTIgOTBWMTAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-smaller{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}}@keyframes __bespoke_marp_transition_reduced_outgoing__{0%{opacity:1}to{opacity:0}}@keyframes __bespoke_marp_transition_reduced_incoming__{0%{mix-blend-mode:plus-lighter;opacity:0}to{mix-blend-mode:plus-lighter;opacity:1}}.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{::view-transition-group(*){animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-timing-function:ease}::view-transition-new(*),::view-transition-old(*){animation-delay:0s;animation-direction:var(--marp-bespoke-transition-animation-direction,normal);animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-fill-mode:both;animation-name:var(--marp-bespoke-transition-animation-name,var(--marp-bespoke-transition-animation-name-fallback,__bespoke_marp_transition_no_animation__));mix-blend-mode:normal}::view-transition-old(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_outgoing__;animation-timing-function:ease}::view-transition-new(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_incoming__;animation-timing-function:ease}::view-transition-new(root),::view-transition-old(root){animation-timing-function:linear}::view-transition-new(__bespoke_marp_transition_osc__),::view-transition-old(__bespoke_marp_transition_osc__){animation-duration:0s!important;animation-name:__bespoke_marp_transition_osc__!important}::view-transition-new(__bespoke_marp_transition_osc__){opacity:0!important}.bespoke-marp-transition-warming-up::view-transition-group(*),.bespoke-marp-transition-warming-up::view-transition-new(*),.bespoke-marp-transition-warming-up::view-transition-old(*){animation-play-state:paused!important}body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{content-visibility:hidden;opacity:0;pointer-events:none;z-index:-1}svg.bespoke-marp-slide:not(.bespoke-marp-active) *{view-transition-name:none!important}svg.bespoke-marp-slide.bespoke-marp-active{content-visibility:visible;opacity:1;pointer-events:auto;z-index:0}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{animation-name:__bespoke_marp__!important}@supports not (content-visibility:hidden){svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}}}@media screen and (prefers-reduced-motion:reduce){svg.bespoke-marp-slide *{view-transition-name:none!important}}@media screen{[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=""] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{inset:0;position:absolute}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{background:#000000a6;border-radius:7px;bottom:50px;color:#fff;contain:paint;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;user-select:none;white-space:nowrap;will-change:transform;z-index:1;view-transition-name:__bespoke_marp_transition_osc__}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=""] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=""] .bespoke-progress-parent .bespoke-progress-bar{background:#0288d1;flex:0 0 0;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:#0000}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{display:grid;font-family:Helvetica,Arial,sans-serif;grid-template:"current dragbar next" minmax(140px,1fr) "current dragbar note" 2fr "info    dragbar note" 3em;grid-template-columns:minmax(3px,var(--bespoke-marp-presenter-split-ratio,66%)) 0 minmax(3px,1fr);height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container{background:#0288d1;cursor:col-resize;grid-area:dragbar;margin-left:-3px;opacity:0;position:relative;transition:opacity .4s linear .1s;width:6px;z-index:10}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container:hover{opacity:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container.active{opacity:1;transition-delay:0s}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:#0000;border:0;display:block;filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note;position:relative;z-index:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper{display:block;inset:0;position:absolute}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons{background:#000000a6;border-radius:4px;bottom:0;display:flex;gap:4px;margin:12px;opacity:0;padding:6px;pointer-events:none;position:absolute;right:0;transition:opacity .2s linear}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons:focus-within,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper:focus-within+.bespoke-marp-presenter-note-buttons,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container:hover .bespoke-marp-presenter-note-buttons{opacity:1;pointer-events:auto}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{box-sizing:border-box;font-size:calc(1.1em*var(--bespoke-marp-note-font-scale, 1));height:calc(100% - 40px);margin:20px;overflow:auto;padding-right:3px;white-space:pre-wrap;width:calc(100% - 40px);word-wrap:break-word;scrollbar-color:#eeeeee80 #0000;scrollbar-width:thin}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:#0000}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:#eeeeee80;border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;overflow:hidden;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{box-sizing:border-box;display:block;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer:hover{cursor:pointer}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}</style><style>@charset "UTF-8";@import "https://fonts.bunny.net/css?family=Lato:400,900|Roboto+Mono:400,700&display=swap";div#\:\$p > svg > foreignObject > section{width:1280px;height:720px;box-sizing:border-box;overflow:hidden;position:relative;scroll-snap-align:center center;-webkit-text-size-adjust:100%;text-size-adjust:100%}div#\:\$p > svg > foreignObject > section::after{bottom:0;content:attr(data-marpit-pagination);padding:inherit;pointer-events:none;position:absolute;right:0}div#\:\$p > svg > foreignObject > section:not([data-marpit-pagination])::after{display:none}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1){font-size:2em;margin-block:0.67em}div#\:\$p > svg > foreignObject > section video::-webkit-media-controls{will-change:transform}@page {size:1280px 720px;margin:0}@media print{html, body{background-color:#fff;margin:0;page-break-inside:avoid;break-inside:avoid-page}div#\:\$p > svg > foreignObject > section{page-break-before:always;break-before:page}div#\:\$p > svg > foreignObject > section, div#\:\$p > svg > foreignObject > section *{-webkit-print-color-adjust:exact!important;animation-delay:0s!important;animation-duration:0s!important;color-adjust:exact!important;print-color-adjust:exact!important;transition:none!important}div#\:\$p > svg[data-marpit-svg]{display:block;height:100vh;width:100vw}}div#\:\$p > svg > foreignObject > :where(section){container-type:size}div#\:\$p > svg > foreignObject > section mjx-container[jax="SVG"]{direction:ltr}div#\:\$p > svg > foreignObject > section mjx-container[jax="SVG"] > svg{overflow:visible;min-height:1px;min-width:1px}div#\:\$p > svg > foreignObject > section mjx-container[jax="SVG"] > svg a{fill:blue;stroke:blue}div#\:\$p > svg > foreignObject > section mjx-container[jax="SVG"][display="true"]{display:block;text-align:center;margin:1em 0}div#\:\$p > svg > foreignObject > section mjx-container[jax="SVG"][display="true"][width="full"]{display:flex}div#\:\$p > svg > foreignObject > section mjx-container[jax="SVG"][justify="left"]{text-align:left}div#\:\$p > svg > foreignObject > section mjx-container[jax="SVG"][justify="right"]{text-align:right}div#\:\$p > svg > foreignObject > section g[data-mml-node="merror"] > g{fill:red;stroke:red}div#\:\$p > svg > foreignObject > section g[data-mml-node="merror"] > rect[data-background]{fill:yellow;stroke:none}div#\:\$p > svg > foreignObject > section g[data-mml-node="mtable"] > line[data-line], div#\:\$p > svg > foreignObject > section svg[data-table] > g > line[data-line]{stroke-width:70px;fill:none}div#\:\$p > svg > foreignObject > section g[data-mml-node="mtable"] > rect[data-frame], div#\:\$p > svg > foreignObject > section svg[data-table] > g > rect[data-frame]{stroke-width:70px;fill:none}div#\:\$p > svg > foreignObject > section g[data-mml-node="mtable"] > .mjx-dashed, div#\:\$p > svg > foreignObject > section svg[data-table] > g > .mjx-dashed{stroke-dasharray:140}div#\:\$p > svg > foreignObject > section g[data-mml-node="mtable"] > .mjx-dotted, div#\:\$p > svg > foreignObject > section svg[data-table] > g > .mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}div#\:\$p > svg > foreignObject > section g[data-mml-node="mtable"] > g > svg{overflow:visible}div#\:\$p > svg > foreignObject > section [jax="SVG"] mjx-tool{display:inline-block;position:relative;width:0;height:0}div#\:\$p > svg > foreignObject > section [jax="SVG"] mjx-tool > mjx-tip{position:absolute;top:0;left:0}div#\:\$p > svg > foreignObject > section mjx-tool > mjx-tip{display:inline-block;padding:.2em;border:1px solid #888;font-size:70%;background-color:#F8F8F8;color:black;box-shadow:2px 2px 5px #AAAAAA}div#\:\$p > svg > foreignObject > section g[data-mml-node="maction"][data-toggle]{cursor:pointer}div#\:\$p > svg > foreignObject > section mjx-status{display:block;position:fixed;left:1em;bottom:1em;min-width:25%;padding:.2em .4em;border:1px solid #888;font-size:90%;background-color:#F8F8F8;color:black}div#\:\$p > svg > foreignObject > section foreignObject[data-mjx-xml]{font-family:initial;line-height:normal;overflow:visible}div#\:\$p > svg > foreignObject > section mjx-container[jax="SVG"] path[data-c], div#\:\$p > svg > foreignObject > section mjx-container[jax="SVG"] use[data-c]{stroke-width:3}@media print{div#\:\$p > svg > foreignObject > section mjx-container[jax=SVG] path[data-c],div#\:\$p > svg > foreignObject > section mjx-container[jax=SVG] use[data-c]{stroke-width:0}}div#\:\$p > svg > foreignObject > section img[data-marp-twemoji]{background:transparent;height:1em;margin:0 .05em 0 .1em;vertical-align:-.1em;width:1em}/*!
 * Marp / Marpit Gaia theme.
 *
 * @theme gaia
 * @author Yuki Hattori
 *
 * @auto-scaling true
 * @size 16:9 1280px 720px
 * @size 4:3 960px 720px
 */div#\:\$p > svg > foreignObject > section :is(pre, marp-pre) code.hljs{display:block;overflow-x:auto;padding:1em}div#\:\$p > svg > foreignObject > section code.hljs{padding:3px 5px}div#\:\$p > svg > foreignObject > section .hljs{background:#000;color:#f8f8f8}div#\:\$p > svg > foreignObject > section .hljs-comment,div#\:\$p > svg > foreignObject > section .hljs-quote{color:#aeaeae;font-style:italic}div#\:\$p > svg > foreignObject > section .hljs-keyword,div#\:\$p > svg > foreignObject > section .hljs-selector-tag,div#\:\$p > svg > foreignObject > section .hljs-type{color:#e28964}div#\:\$p > svg > foreignObject > section .hljs-string{color:#65b042}div#\:\$p > svg > foreignObject > section .hljs-subst{color:#daefa3}div#\:\$p > svg > foreignObject > section .hljs-link,div#\:\$p > svg > foreignObject > section .hljs-regexp{color:#e9c062}div#\:\$p > svg > foreignObject > section .hljs-name,div#\:\$p > svg > foreignObject > section .hljs-section,div#\:\$p > svg > foreignObject > section .hljs-tag,div#\:\$p > svg > foreignObject > section .hljs-title{color:#89bdff}div#\:\$p > svg > foreignObject > section .hljs-class .hljs-title,div#\:\$p > svg > foreignObject > section .hljs-doctag,div#\:\$p > svg > foreignObject > section .hljs-title.class_{text-decoration:underline}div#\:\$p > svg > foreignObject > section .hljs-bullet,div#\:\$p > svg > foreignObject > section .hljs-number,div#\:\$p > svg > foreignObject > section .hljs-symbol{color:#3387cc}div#\:\$p > svg > foreignObject > section .hljs-params,div#\:\$p > svg > foreignObject > section .hljs-template-variable,div#\:\$p > svg > foreignObject > section .hljs-variable{color:#3e87e3}div#\:\$p > svg > foreignObject > section .hljs-attribute{color:#cda869}div#\:\$p > svg > foreignObject > section .hljs-meta{color:#8996a8}div#\:\$p > svg > foreignObject > section .hljs-formula{background-color:#0e2231;color:#f8f8f8;font-style:italic}div#\:\$p > svg > foreignObject > section .hljs-addition{background-color:#253b22;color:#f8f8f8}div#\:\$p > svg > foreignObject > section .hljs-deletion{background-color:#420e09;color:#f8f8f8}div#\:\$p > svg > foreignObject > section .hljs-selector-class{color:#9b703f}div#\:\$p > svg > foreignObject > section .hljs-selector-id{color:#8b98ab}div#\:\$p > svg > foreignObject > section .hljs-emphasis{font-style:italic}div#\:\$p > svg > foreignObject > section .hljs-strong{font-weight:700}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1),div#\:\$p > svg > foreignObject > section :is(h2, marp-h2),div#\:\$p > svg > foreignObject > section :is(h3, marp-h3),div#\:\$p > svg > foreignObject > section :is(h4, marp-h4),div#\:\$p > svg > foreignObject > section :is(h5, marp-h5),div#\:\$p > svg > foreignObject > section :is(h6, marp-h6){margin:.5em 0 0}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1) strong,div#\:\$p > svg > foreignObject > section :is(h2, marp-h2) strong,div#\:\$p > svg > foreignObject > section :is(h3, marp-h3) strong,div#\:\$p > svg > foreignObject > section :is(h4, marp-h4) strong,div#\:\$p > svg > foreignObject > section :is(h5, marp-h5) strong,div#\:\$p > svg > foreignObject > section :is(h6, marp-h6) strong{font-weight:inherit}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1)::part(auto-scaling),div#\:\$p > svg > foreignObject > section :is(h2, marp-h2)::part(auto-scaling),div#\:\$p > svg > foreignObject > section :is(h3, marp-h3)::part(auto-scaling),div#\:\$p > svg > foreignObject > section :is(h4, marp-h4)::part(auto-scaling),div#\:\$p > svg > foreignObject > section :is(h5, marp-h5)::part(auto-scaling),div#\:\$p > svg > foreignObject > section :is(h6, marp-h6)::part(auto-scaling){max-height:580px}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1){font-size:1.8em}div#\:\$p > svg > foreignObject > section :is(h2, marp-h2){font-size:1.5em}div#\:\$p > svg > foreignObject > section :is(h3, marp-h3){font-size:1.3em}div#\:\$p > svg > foreignObject > section :is(h4, marp-h4){font-size:1.1em}div#\:\$p > svg > foreignObject > section :is(h5, marp-h5){font-size:1em}div#\:\$p > svg > foreignObject > section :is(h6, marp-h6){font-size:.9em}div#\:\$p > svg > foreignObject > section blockquote,div#\:\$p > svg > foreignObject > section p{margin:1em 0 0}div#\:\$p > svg > foreignObject > section ol>li,div#\:\$p > svg > foreignObject > section ul>li{margin:.3em 0 0}div#\:\$p > svg > foreignObject > section ol>li>p,div#\:\$p > svg > foreignObject > section ul>li>p{margin:.6em 0 0}div#\:\$p > svg > foreignObject > section code{display:inline-block;font-family:Roboto Mono,monospace;font-size:.8em;letter-spacing:0;margin:-.1em .15em;padding:.1em .2em;vertical-align:baseline}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre){display:block;margin:1em 0 0;overflow:visible}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre) code{box-sizing:border-box;font-size:.7em;margin:0;min-width:100%;padding:.5em}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)::part(auto-scaling){max-height:calc(580px - 1em)}div#\:\$p > svg > foreignObject > section blockquote{margin:1em 0 0;padding:0 1em;position:relative}div#\:\$p > svg > foreignObject > section blockquote:after,div#\:\$p > svg > foreignObject > section blockquote:before{content:"â€œ";display:block;font-family:Times New Roman,serif;font-weight:700;position:absolute}div#\:\$p > svg > foreignObject > section blockquote:before{left:0;top:0}div#\:\$p > svg > foreignObject > section blockquote:after{bottom:0;right:0;transform:rotate(180deg)}div#\:\$p > svg > foreignObject > section blockquote>:first-child{margin-top:0}div#\:\$p > svg > foreignObject > section mark{background:transparent}div#\:\$p > svg > foreignObject > section table{border-collapse:collapse;border-spacing:0;margin:1em 0 0}div#\:\$p > svg > foreignObject > section table td,div#\:\$p > svg > foreignObject > section table th{border-style:solid;border-width:1px;padding:.2em .4em}div#\:\$p > svg > foreignObject > section footer,div#\:\$p > svg > foreignObject > section header,div#\:\$p > svg > foreignObject > section:after{box-sizing:border-box;font-size:66%;height:70px;line-height:50px;overflow:hidden;padding:10px 25px;position:absolute}div#\:\$p > svg > foreignObject > section:after{--marpit-root-font-size:66%;}div#\:\$p > svg > foreignObject > section header{top:0}div#\:\$p > svg > foreignObject > section footer,div#\:\$p > svg > foreignObject > section header{left:0;right:0}div#\:\$p > svg > foreignObject > section footer{bottom:0}div#\:\$p > svg > foreignObject > section{background-color:var(--color-background);background-image:linear-gradient(135deg, hsla(0,0%,53%,0), hsla(0,0%,53%,.02) 50%, hsla(0,0%,100%,0) 0, hsla(0,0%,100%,.05));color:var(--color-foreground);font-family:Lato,Avenir Next,Avenir,Trebuchet MS,Segoe UI,sans-serif;font-size:35px;height:720px;letter-spacing:1.25px;line-height:1.35;padding:70px;width:1280px;word-wrap:break-word;--color-background:#fff8e1;--color-background-stripe:rgba(69,90,100,.1);--color-foreground:#455a64;--color-dimmed:#6a7a7d;--color-highlight:#0288d1;}div#\:\$p > svg > foreignObject > section{--marpit-root-font-size:35px;}div#\:\$p > svg > foreignObject > section:after{bottom:0;font-size:80%;right:0}div#\:\$p > svg > foreignObject > section:after{--marpit-root-font-size:80%;}div#\:\$p > svg > foreignObject > section a,div#\:\$p > svg > foreignObject > section mark{color:var(--color-highlight)}div#\:\$p > svg > foreignObject > section code{background:var(--color-dimmed);color:var(--color-background)}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1) strong,div#\:\$p > svg > foreignObject > section :is(h2, marp-h2) strong,div#\:\$p > svg > foreignObject > section :is(h3, marp-h3) strong,div#\:\$p > svg > foreignObject > section :is(h4, marp-h4) strong,div#\:\$p > svg > foreignObject > section :is(h5, marp-h5) strong,div#\:\$p > svg > foreignObject > section :is(h6, marp-h6) strong{color:var(--color-highlight)}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre){background:var(--color-foreground)}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code{background:transparent}div#\:\$p > svg > foreignObject > section blockquote:after,div#\:\$p > svg > foreignObject > section blockquote:before,div#\:\$p > svg > foreignObject > section footer,div#\:\$p > svg > foreignObject > section header,div#\:\$p > svg > foreignObject > section section:after{color:var(--color-dimmed)}div#\:\$p > svg > foreignObject > section table td,div#\:\$p > svg > foreignObject > section table th{border-color:var(--color-foreground)}div#\:\$p > svg > foreignObject > section table thead th{background:var(--color-foreground);color:var(--color-background)}div#\:\$p > svg > foreignObject > section table tbody>tr:nth-child(odd) td,div#\:\$p > svg > foreignObject > section table tbody>tr:nth-child(odd) th{background:var(--color-background-stripe, transparent)}div#\:\$p > svg > foreignObject > section>:first-child,div#\:\$p > svg > foreignObject > section>header:first-child+*{margin-top:0}div#\:\$p > svg > foreignObject > section:where(.invert){--color-background:#455a64;--color-background-stripe:rgba(255,248,225,.1);--color-foreground:#fff8e1;--color-dimmed:#dad8c8;--color-highlight:#81d4fa;}div#\:\$p > svg > foreignObject > section:where(.gaia){--color-background:#0288d1;--color-background-stripe:rgba(255,248,225,.1);--color-foreground:#fff8e1;--color-dimmed:#cce2de;--color-highlight:#81d4fa;}div#\:\$p > svg > foreignObject > section:where(.lead){align-items:stretch;flex-flow:column nowrap;place-content:safe center center}div#\:\$p > svg > foreignObject > section:where(.lead) :is(h1, marp-h1),div#\:\$p > svg > foreignObject > section:where(.lead) :is(h2, marp-h2),div#\:\$p > svg > foreignObject > section:where(.lead) :is(h3, marp-h3),div#\:\$p > svg > foreignObject > section:where(.lead) :is(h4, marp-h4),div#\:\$p > svg > foreignObject > section:where(.lead) :is(h5, marp-h5),div#\:\$p > svg > foreignObject > section:where(.lead) :is(h6, marp-h6){text-align:center}div#\:\$p > svg > foreignObject > section:where(.lead) p{text-align:center}div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>:is(h1, marp-h1),div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>:is(h2, marp-h2),div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>:is(h3, marp-h3),div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>:is(h4, marp-h4),div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>:is(h5, marp-h5),div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>:is(h6, marp-h6),div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>p{text-align:left}div#\:\$p > svg > foreignObject > section:where(.lead) ol>li>p,div#\:\$p > svg > foreignObject > section:where(.lead) ul>li>p{text-align:left}div#\:\$p > svg > foreignObject > section:where(.lead) table{margin-left:auto;margin-right:auto}div#\:\$p > svg > foreignObject > section{width:1280px;height:720px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-EjK59IDx]{font-size:20px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-EjK59IDx]{--marpit-root-font-size: 20px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-KgAVLCji]{font-size:26px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-KgAVLCji]{--marpit-root-font-size: 26px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-pLAUUNwC]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-pLAUUNwC]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-h3XSczV9]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-h3XSczV9]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-DoKLSAtb]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-DoKLSAtb]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-RMEeI3Va]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-RMEeI3Va]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-y4mrSPwB]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-y4mrSPwB]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-BE8ITOep] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-yd1F9g1g] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-chMpi6Mo] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-mchG5Jrz] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-X5c4gea4]{font-size:26px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-X5c4gea4]{--marpit-root-font-size: 26px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-ipJnYPMp]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-ipJnYPMp]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-fiZPGQas]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-fiZPGQas]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-linBekLN] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-OsN5otep] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-wBU7hcMO] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-KjZr7zI7]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-KjZr7zI7]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-fs3MbOBc]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-fs3MbOBc]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-eJZNscqe]{font-size:26px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-eJZNscqe]{--marpit-root-font-size: 26px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-Kc8SMNiG]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-Kc8SMNiG]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-pKOj0B6n] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-wERZTT0x] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-2ILQlJej] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-15rs97S1]{font-size:26px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-15rs97S1]{--marpit-root-font-size: 26px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-jDbvSoMM]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-jDbvSoMM]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-6biT5K4s]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-6biT5K4s]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-Xbf1Y3qh] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-kePgDJrv] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-UZQsVcQO] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-XpN7DusG]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-XpN7DusG]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-6FUT62aX]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-6FUT62aX]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-t3MaZTFt]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-t3MaZTFt]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-prCOmc2r]{font-size:26px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-prCOmc2r]{--marpit-root-font-size: 26px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-Eed8BzbV]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-Eed8BzbV]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-mFMwDZaY]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-mFMwDZaY]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-be0OGM5E] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-PABXo4Xb] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-exUbdgtZ]{font-size:26px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-exUbdgtZ]{--marpit-root-font-size: 26px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-nNHg968a]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-nNHg968a]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-3uEdMits] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-4jOk4MmZ]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-4jOk4MmZ]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-ovxR3fQ1]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-ovxR3fQ1]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-rGDcupLI]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-rGDcupLI]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-q8HC3sxC]{font-size:25px}div#\:\$p > svg > foreignObject > section[data-marpit-scope-q8HC3sxC]{--marpit-root-font-size: 25px;}div#\:\$p > svg > foreignObject > section[data-marpit-scope-EHbjwtSX] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-scope-NIrpMalE] :is(pre, marp-pre){max-height:400px;overflow-y:auto;font-size:calc(var(--marpit-root-font-size, 1rem) * 2.8)}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"]{columns:initial!important;display:block!important;padding:0!important}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"]::before, div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"]::after, div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="content"]::before, div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="content"]::after{display:none!important}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"] > div[data-marpit-advanced-background-container]{all:initial;display:flex;flex-direction:row;height:100%;overflow:hidden;width:100%}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"] > div[data-marpit-advanced-background-container][data-marpit-advanced-background-direction="vertical"]{flex-direction:column}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"][data-marpit-advanced-background-split] > div[data-marpit-advanced-background-container]{width:var(--marpit-advanced-background-split, 50%)}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"][data-marpit-advanced-background-split="right"] > div[data-marpit-advanced-background-container]{margin-left:calc(100% - var(--marpit-advanced-background-split, 50%))}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"] > div[data-marpit-advanced-background-container] > figure{all:initial;background-position:center;background-repeat:no-repeat;background-size:cover;flex:auto;margin:0}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"] > div[data-marpit-advanced-background-container] > figure > figcaption{position:absolute;border:0;clip:rect(0, 0, 0, 0);height:1px;margin:-1px;overflow:hidden;padding:0;white-space:nowrap;width:1px}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="content"], div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="pseudo"]{background:transparent!important}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="pseudo"], div#\:\$p > svg[data-marpit-svg] > foreignObject[data-marpit-advanced-background="pseudo"]{pointer-events:none!important}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background-split]{width:100%;height:100%}
</style></head><body><div class="bespoke-marp-osc"><button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">Previous slide</button><span data-bespoke-marp-osc="page"></span><button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">Next slide</button><button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">Toggle fullscreen</button><button data-bespoke-marp-osc="presenter" tabindex="-1" title="Open presenter view (p)">Open presenter view</button></div><div id=":$p"><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-class="lead" data-theme="gaia" lang="zh-TW" class="lead" data-marpit-pagination="1" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--class:lead;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="48" data-size="16:9" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;images%5C0820_3.jpg&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="50%" height="720"><section id="1" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-class="lead" data-theme="gaia" lang="zh-TW" class="lead" data-marpit-pagination="1" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--class:lead;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="48" data-size="16:9" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h1 id="big-data-and-society">Big Data and Society</h1>
<p><strong>Class 021 Network Characteristic</strong></p>
<p><strong>åœ‹ä¼ Wen-Bin Chuang</strong><br />
<strong>2026-02-14</strong></p>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-class="lead" data-theme="gaia" lang="zh-TW" class="lead" data-marpit-pagination="1" style="color:#000;" data-marpit-pagination-total="48" data-size="16:9" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="2" data-marpit-scope-EjK59IDx="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="2" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<h2 id="core-concepts">Core Concepts</h2>

<table>
<thead>
<tr>
<th>Metric</th>
<th>What it captures</th>
<th>Real-world analogy</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Degree Centrality</strong></td>
<td>Number of direct connections</td>
<td>&quot;How many friends do you have?&quot;</td>
</tr>
<tr>
<td><strong>Betweenness Centrality</strong></td>
<td>How often a node lies on shortest paths between others</td>
<td>&quot;Are you a bridge between groups?&quot;</td>
</tr>
<tr>
<td><strong>Closeness Centrality</strong></td>
<td>How close a node is to all others (inverse of avg. path length)</td>
<td>&quot;How fast can you spread news?&quot;</td>
</tr>
<tr>
<td><strong>Eigenvector Centrality</strong></td>
<td>Connected to important nodes</td>
<td>â€œFriends with the powerfulâ€</td>
</tr>
<tr>
<td><strong>PageRank</strong></td>
<td>Eigenvector centrality with teleportation</td>
<td>Important + hard to reach by random walk</td>
</tr>
<tr>
<td><strong>Katz Centrality</strong></td>
<td>Rewards proximity to many nodes (decaying with distance)</td>
<td>--</td>
</tr>
</tbody>
</table>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="3" data-marpit-scope-KgAVLCji="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="3" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<h2 id="application-in-social-media-analysis">Application in Social Media Analysis</h2>

<p>In social media analysis, <code>influencers</code>â€”often referred to as <code>Key Opinion Leaders (KOLs)</code>â€”are individuals or entities that wield significant influence over others within a network. åœ¨ç¤¾äº¤åª’é«”åˆ†æžä¸­ï¼Œâ€œå½±éŸ¿è€…â€ï¼ˆå¸¸è¢«ç¨±ç‚ºâ€œé—œéµæ„è¦‹é ˜è¢–â€ï¼Œå³KOLï¼‰æ˜¯æŒ‡åœ¨ç¶²è·¯ä¸­å°ä»–äººå…·æœ‰é¡¯è‘—å½±éŸ¿åŠ›çš„å€‹äººæˆ–å¯¦é«”ã€‚</p>
<p>They shape opinions, drive trends, and facilitate information dissemination. ä»–å€‘èƒ½å¤ å¡‘é€ è§€é»žã€å¼•é ˜æ½®æµï¼Œä¸¦ä¿ƒé€²è³‡è¨Šå‚³æ’­ã€‚</p>
<p>Using graph theory, we model social media as a graph where users are nodes and interactions (e.g., follows, retweets, mentions) are edges. åˆ©ç”¨åœ–è«–ï¼Œæˆ‘å€‘å¯ä»¥å°‡ç¤¾äº¤åª’é«”å»ºæ¨¡ç‚ºä¸€å¼µåœ–ï¼Œå…¶ä¸­ç”¨æˆ¶æ˜¯ç¯€é»žï¼Œè€Œäº’å‹•è¡Œç‚ºï¼ˆä¾‹å¦‚é—œæ³¨ã€è½‰ç™¼ã€æåŠï¼‰å‰‡æ§‹æˆé‚Šã€‚</p>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="4" data-marpit-scope-pLAUUNwC="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="4" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p>Influencers are identified through <strong>centrality analysis</strong>, which quantifies a node's importance based on its position and connections. å½±éŸ¿è€…çš„è­˜åˆ¥é€šå¸¸é€šéŽ<strong>ä¸­å¿ƒæ€§åˆ†æž</strong>ï¼ˆcentrality analysisï¼‰å¯¦ç¾ï¼Œè©²æ–¹æ³•æ ¹æ“šç¯€é»žåœ¨ç¶²è·¯ä¸­çš„ä½ç½®åŠå…¶é€£æŽ¥é—œä¿‚ä¾†é‡åŒ–å…¶é‡è¦æ€§ã€‚</p>
<p>This helps in applications like targeted marketing, viral campaign planning, misinformation detection, or understanding power dynamics in online communities. é€™ä¸€æŠ€è¡“å¯æ‡‰ç”¨æ–¼ç²¾å‡†è¡ŒéŠ·ã€ç—…æ¯’å¼å‚³æ’­æ´»å‹•ç­–åŠƒã€è™›å‡è³‡è¨Šæª¢æ¸¬ï¼Œä»¥åŠç†è§£ç·šä¸Šç¤¾ç¾¤ä¸­çš„æ¬ŠåŠ›çµæ§‹ç­‰å ´æ™¯ã€‚</p>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="5" data-marpit-scope-h3XSczV9="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="5" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p><strong>Influencer / Centrality Analysis</strong>ï¼ˆé—œéµç¯€é»žè­˜åˆ¥)</p>

<ul>
<li><strong>Concept</strong>ï¼šåº¦ä¸­å¿ƒæ€§ï¼ˆDegree Centralityï¼‰ã€æŽ¥è¿‘ä¸­å¿ƒæ€§ï¼ˆClosenessï¼‰ã€ä»‹æ•¸ä¸­å¿ƒæ€§ï¼ˆBetweennessï¼‰ã€ç‰¹å¾µå‘é‡ä¸­å¿ƒæ€§ï¼ˆEigenvector Centralityï¼‰</li>
<li><strong>Application</strong>ï¼šæ‰¾å‡ºæœ€å…·å½±éŸ¿åŠ›çš„ç”¨æˆ¶ï¼ˆå¦‚ treadã€FB KOLï¼‰ï¼Œç”¨æ–¼è¡ŒéŠ·æˆ–è¼¿æƒ…å¼•å°Žã€‚</li>
<li><strong>Example</strong>ï¼šåœ¨è½‰ç™¼ç¶²è·¯ä¸­ï¼Œä»‹æ•¸é«˜çš„ä½¿ç”¨è€…å¯èƒ½æ˜¯è³‡è¨Šå‚³æ’­çš„â€œæ©‹æ¨‘â€ã€‚</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="6" data-marpit-scope-DoKLSAtb="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="6" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p>Centrality measures reveal different aspects of influence:</p>

<ul>
<li>
<p><strong>Local influencers</strong>: High <code>direct</code> connections (e.g., celebrities with many followers) æ“æœ‰å¤§é‡<strong>ç›´æŽ¥é€£æŽ¥</strong>ï¼ˆä¾‹å¦‚æ“æœ‰çœ¾å¤šç²‰çµ²çš„åäººï¼‰.</p>
</li>
<li>
<p><strong>Global influencers</strong>: <code>Bridge</code> disparate groups or control information flow (e.g., journalists connecting communities) å……ç•¶ä¸åŒç¾¤é«”ä¹‹é–“çš„<strong>æ©‹æ¨‘</strong>ï¼Œæˆ–æŽŒæŽ§è³‡è¨Šæµå‹•ï¼ˆä¾‹å¦‚é€£æŽ¥å¤šå€‹ç¤¾ç¾¤çš„è¨˜è€…ï¼‰.</p>
</li>
<li>
<p><strong>Prestige influencers</strong>è²æœ›å½±éŸ¿è€…: Associated with other high-status nodes (e.g., endorsed by peers) èˆ‡å…¶å®ƒé«˜åœ°ä½ç¯€é»žå¯†åˆ‡ç›¸é—œï¼ˆä¾‹å¦‚ç²å¾—åŒè¡Œèªå¯æˆ–èƒŒæ›¸çš„äºº).</p>
</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="7" data-marpit-scope-RMEeI3Va="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="7" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p><strong>Katz</strong> Centrality measures a nodeâ€™s influence by counting the number of walks (of all lengths) emanating from it, with longer walks attenuated by a factor Î± &lt; 1 é€šéŽè¨ˆç®—å¾žæŸç¯€é»žå‡ºç™¼çš„æ‰€æœ‰é•·åº¦è·¯å¾‘ï¼ˆwalksï¼‰æ•¸é‡ä¾†è¡¡é‡å…¶å½±éŸ¿åŠ›ï¼Œå…¶ä¸­è¼ƒé•·è·¯å¾‘çš„è²¢ç»æœƒæŒ‰è¡°æ¸›å› æ•¸ Î±ï¼ˆÎ± &lt; 1ï¼‰é€²è¡ŒæŠ˜æ‰£.</p>
<ul>
<li>
<p>Itâ€™s like a â€œsmarterâ€ version of degree centrality that rewards nodes connected to other influential nodes å®ƒå¯è¦–ç‚ºåº¦ä¸­å¿ƒæ€§ï¼ˆdegree centralityï¼‰çš„ä¸€ç¨®â€œæ›´æ™ºæ…§â€ç‰ˆæœ¬ï¼Œä¸åƒ…è€ƒæ…®ç›´æŽ¥é€£æŽ¥æ•¸é‡ï¼Œé‚„çŽå‹µé‚£äº›èˆ‡<strong>å…¶ä»–æœ‰å½±éŸ¿åŠ›ç¯€é»žç›¸é€£</strong>çš„ç¯€é»ž.</p>
</li>
<li>
<p>Perfect for <strong>undirected or weakly connected graphs</strong> (common in mutual-follow networks) ç‰¹åˆ¥é©ç”¨äºŽ<strong>ç„¡å‘åœ–æˆ–å¼±é€£é€šåœ–</strong>ï¼ˆé€™åœ¨äº’ç›¸é—œæ³¨çš„ç¤¾äº¤ç¶²è·¯ä¸­å¾ˆå¸¸è¦‹ï¼‰.</p>
</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="8" data-marpit-scope-y4mrSPwB="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="8" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<ul>
<li>Formula:</li>
</ul>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="14.256ex" height="2.059ex" role="img" focusable="false" viewBox="0 -716 6301 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D431" d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z"></path></g></g><g data-mml-node="mo" transform="translate(884.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1940.6,0)"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z"></path></g><g data-mml-node="mi" transform="translate(2580.6,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(3330.6,0)"><g data-mml-node="mi"><path data-c="1D431" d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z"></path></g></g><g data-mml-node="mo" transform="translate(4159.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(5160,0)"><path data-c="1D6FD" d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(5726,0)"><g data-mml-node="mn"><path data-c="1D7CF" d="M481 0L294 3Q136 3 109 0H96V62H227V304Q227 546 225 546Q169 529 97 529H80V591H97Q231 591 308 647L319 655H333Q355 655 359 644Q361 640 361 351V62H494V0H481Z"></path></g></g></g></g></svg></mjx-container></p>
<p>Solved as:</p>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="18.015ex" height="2.452ex" role="img" focusable="false" viewBox="0 -833.9 7962.7 1083.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D431" d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z"></path></g></g><g data-mml-node="mo" transform="translate(884.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1940.6,0)"><path data-c="1D6FD" d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z"></path></g><g data-mml-node="mo" transform="translate(2506.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(2895.6,0)"><path data-c="1D43C" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path></g><g data-mml-node="mo" transform="translate(3621.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(4622,0)"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z"></path></g><g data-mml-node="mi" transform="translate(5262,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="msup" transform="translate(6012,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="TeXAtom" transform="translate(422,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(778,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(7387.7,0)"><g data-mml-node="mn"><path data-c="1D7CF" d="M481 0L294 3Q136 3 109 0H96V62H227V304Q227 546 225 546Q169 529 97 529H80V591H97Q231 591 308 647L319 655H333Q355 655 359 644Q361 640 361 351V62H494V0H481Z"></path></g></g></g></g></svg></mjx-container></p>
<p>Typical values: <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="17.939ex" height="2.034ex" role="img" focusable="false" viewBox="0 -705 7929.1 899"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z"></path></g><g data-mml-node="mo" transform="translate(917.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1973.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" transform="translate(500,0)"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(778,0)"></path><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z" transform="translate(1278,0)"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(3751.6,0)"><g data-mml-node="mo"><path data-c="2013" d="M0 248V285H499V248H0Z"></path></g></g><g data-mml-node="mn" transform="translate(4251.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" transform="translate(500,0)"></path><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" transform="translate(778,0)"></path></g><g data-mml-node="mi" transform="translate(5529.6,0)"><path data-c="1D6FD" d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z"></path></g><g data-mml-node="mo" transform="translate(6373.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(7429.1,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg></mjx-container></p>
<p>In practice: <strong>High Katz = influential + connected to influential people</strong> â†’ ideal for finding real KOLs åœ¨å¯¦éš›æ‡‰ç”¨ä¸­ï¼š<strong>Katz ä¸­å¿ƒæ€§é«˜ = è‡ªèº«æœ‰å½±éŸ¿åŠ› + ä¸”èˆ‡æœ‰å½±éŸ¿åŠ›çš„äººç›¸é€£</strong> â†’ éžå¸¸é©åˆç”¨æ–¼è­˜åˆ¥çœŸæ­£æ„ç¾©ä¸Šçš„é—œéµæ„è¦‹é ˜è¢–ï¼ˆKOLï¼‰.</p>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="9" data-marpit-scope-BE8ITOep="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="9" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<h6 id="centrality-analysis">Centrality Analysis</h6>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> networkx <span class="hljs-keyword">as</span> nx
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> random
<span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> defaultdict

<span class="hljs-comment"># --------------------------------------------------------------</span>
<span class="hljs-comment"># 1. Generate synthetic social network (100 users, 4 topics)</span>
<span class="hljs-comment"># --------------------------------------------------------------</span>
n_users = <span class="hljs-number">100</span>
n_topics = <span class="hljs-number">4</span>
users_per_topic = n_users // n_topics

topic_names = [<span class="hljs-string">&quot;Sports&quot;</span>, <span class="hljs-string">&quot;Politics&quot;</span>, <span class="hljs-string">&quot;AI_Research&quot;</span>, <span class="hljs-string">&quot;Gaming&quot;</span>]
true_labels = [i // users_per_topic <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_users)]

p_within = <span class="hljs-number">0.25</span>
p_between = <span class="hljs-number">0.02</span>

G = nx.Graph()
G.add_nodes_from(<span class="hljs-built_in">range</span>(n_users))

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_users):
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i+<span class="hljs-number">1</span>, n_users):
        <span class="hljs-keyword">if</span> true_labels[i] == true_labels[j]:
            <span class="hljs-keyword">if</span> random.random() &lt; p_within:
                G.add_edge(i, j)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">if</span> random.random() &lt; p_between:
                G.add_edge(i, j)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Graph: <span class="hljs-subst">{G.number_of_nodes()}</span> nodes, <span class="hljs-subst">{G.number_of_edges()}</span> edges&quot;</span>)
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="10" data-marpit-scope-yd1F9g1g="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="10" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-comment"># --------------------------------------------------------------</span>
<span class="hljs-comment"># 2. Compute ALL centrality measures</span>
<span class="hljs-comment"># --------------------------------------------------------------</span>

<span class="hljs-comment"># 1. Degree Centrality</span>
degree_centrality = nx.degree_centrality(G)

<span class="hljs-comment"># 2. Betweenness Centrality (approximated for speed)</span>
betweenness_centrality = nx.betweenness_centrality(G, k=<span class="hljs-number">100</span>, seed=<span class="hljs-number">42</span>)

<span class="hljs-comment"># 3. Closeness Centrality</span>
closeness_centrality = nx.closeness_centrality(G)

<span class="hljs-comment"># 4. Eigenvector Centrality</span>
eigenvector_centrality = nx.eigenvector_centrality(G, max_iter=<span class="hljs-number">1000</span>, tol=<span class="hljs-number">1e-6</span>)

<span class="hljs-comment"># 5. PageRank</span>
pagerank = nx.pagerank(G, alpha=<span class="hljs-number">0.85</span>)

<span class="hljs-comment"># 6. NEW: Katz Centrality</span>
<span class="hljs-comment"># Choose Î± &lt; 1/Î»_max where Î»_max is the largest eigenvalue of adjacency matrix</span>
<span class="hljs-keyword">try</span>:
    <span class="hljs-comment"># Safest: use NetworkX built-in (automatically chooses Î±)</span>
    katz_centrality = nx.katz_centrality(G, alpha=<span class="hljs-number">0.1</span>, beta=<span class="hljs-number">1.0</span>, max_iter=<span class="hljs-number">1000</span>, tol=<span class="hljs-number">1e-6</span>)
<span class="hljs-keyword">except</span>:
    <span class="hljs-comment"># Fallback: conservative Î±</span>
    katz_centrality = nx.katz_centrality(G, alpha=<span class="hljs-number">0.05</span>, beta=<span class="hljs-number">1.0</span>)
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="11" data-marpit-scope-chMpi6Mo="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="11" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-comment"># --------------------------------------------------------------</span>
<span class="hljs-comment"># 3. Get top 5 influencers for each measure</span>
<span class="hljs-comment"># --------------------------------------------------------------</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_top_kols</span>(<span class="hljs-params">centrality_dict, k=<span class="hljs-number">5</span></span>):
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sorted</span>(centrality_dict.items(), key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>], reverse=<span class="hljs-literal">True</span>)[:k]

top_katz = get_top_kols(katz_centrality)

centralities = {
    <span class="hljs-string">&quot;Degree&quot;</span>: get_top_kols(degree_centrality),
    <span class="hljs-string">&quot;Betweenness&quot;</span>: get_top_kols(betweenness_centrality),
    <span class="hljs-string">&quot;Closeness&quot;</span>: get_top_kols(closeness_centrality),
    <span class="hljs-string">&quot;Eigenvector&quot;</span>: get_top_kols(eigenvector_centrality),
    <span class="hljs-string">&quot;PageRank&quot;</span>: get_top_kols(pagerank),
    <span class="hljs-string">&quot;Katz&quot;</span>: top_katz
}

<span class="hljs-comment"># --------------------------------------------------------------</span>
<span class="hljs-comment"># 4. Print results with topic labels</span>
<span class="hljs-comment"># --------------------------------------------------------------</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&quot;</span> + <span class="hljs-string">&quot;=&quot;</span>*<span class="hljs-number">80</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;TOP 5 INFLUENCERS (KOLs) BY CENTRALITY MEASURE&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;=&quot;</span>*<span class="hljs-number">80</span>)

<span class="hljs-keyword">for</span> name, tops <span class="hljs-keyword">in</span> centralities.items():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;\n<span class="hljs-subst">{name:<span class="hljs-number">12</span>}</span> Centrality â†’ Top 5 Users:&quot;</span>)
    <span class="hljs-keyword">for</span> rank, (user, score) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(tops, <span class="hljs-number">1</span>):
        topic = topic_names[true_labels[user]]
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;  #<span class="hljs-subst">{rank}</span> User <span class="hljs-subst">{user:2d}</span> (<span class="hljs-subst">{topic:<span class="hljs-number">12</span>}</span>) â†’ Score: <span class="hljs-subst">{score:<span class="hljs-number">.4</span>f}</span>&quot;</span>)

<span class="hljs-comment"># --------------------------------------------------------------</span>
<span class="hljs-comment"># 5. Visualize: Node size by Katz Centrality</span>
<span class="hljs-comment"># --------------------------------------------------------------</span>
plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">9</span>))
pos = nx.spring_layout(G, k=<span class="hljs-number">0.18</span>, iterations=<span class="hljs-number">60</span>, seed=<span class="hljs-number">42</span>)

<span class="hljs-comment"># Node sizes scaled by Katz centrality</span>
katz_values = [katz_centrality[node] <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> G.nodes()]
node_sizes = [<span class="hljs-number">2000</span> * v + <span class="hljs-number">100</span> <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> katz_values]  <span class="hljs-comment"># scale up</span>

<span class="hljs-comment"># Color by true topic</span>
node_colors = true_labels

nx.draw_networkx_edges(G, pos, alpha=<span class="hljs-number">0.15</span>, width=<span class="hljs-number">0.5</span>)
scatter = nx.draw_networkx_nodes(
    G, pos,
    node_size=node_sizes,
    node_color=node_colors,
    cmap=plt.cm.tab10,
    alpha=<span class="hljs-number">0.9</span>
)

<span class="hljs-comment"># Highlight top 3 Katz influencers with red border</span>
top3_katz_users = [u <span class="hljs-keyword">for</span> u, _ <span class="hljs-keyword">in</span> top_katz[:<span class="hljs-number">3</span>]]
nx.draw_networkx_nodes(
    G, pos,
    nodelist=top3_katz_users,
    node_size=<span class="hljs-number">800</span>,
    node_color=<span class="hljs-string">&quot;red&quot;</span>,
    edgecolors=<span class="hljs-string">&quot;black&quot;</span>,
    linewidths=<span class="hljs-number">3</span>,
    label=<span class="hljs-string">&quot;Top 3 Katz KOLs&quot;</span>
)

plt.title(<span class="hljs-string">&quot;100-User Social Network\nNode Size = Katz Centrality | Red Border = Top 3 KOLs&quot;</span>, 
          fontsize=<span class="hljs-number">14</span>, pad=<span class="hljs-number">20</span>)
plt.axis(<span class="hljs-string">&quot;off&quot;</span>)
plt.legend(scatterpoints=<span class="hljs-number">1</span>)
plt.tight_layout()
plt.show()
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="12" data-marpit-scope-mchG5Jrz="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="12" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-comment"># --------------------------------------------------------------</span>
<span class="hljs-comment"># 6. Bonus: Correlation between Katz and other measures</span>
<span class="hljs-comment"># --------------------------------------------------------------</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

df = pd.DataFrame({
    <span class="hljs-string">&#x27;Degree&#x27;</span>: degree_centrality,
    <span class="hljs-string">&#x27;Betweenness&#x27;</span>: betweenness_centrality,
    <span class="hljs-string">&#x27;Closeness&#x27;</span>: closeness_centrality,
    <span class="hljs-string">&#x27;Eigenvector&#x27;</span>: eigenvector_centrality,
    <span class="hljs-string">&#x27;PageRank&#x27;</span>: pagerank,
    <span class="hljs-string">&#x27;Katz&#x27;</span>: katz_centrality
})

<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nCorrelation with Katz Centrality:&quot;</span>)
<span class="hljs-built_in">print</span>(df.corr()[<span class="hljs-string">&#x27;Katz&#x27;</span>].<span class="hljs-built_in">round</span>(<span class="hljs-number">4</span>).sort_values(ascending=<span class="hljs-literal">False</span>))
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="13" data-marpit-scope-X5c4gea4="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="13" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<h2 id="bridge-cross-ideology-detection">Bridge (Cross-Ideology) Detection</h2>

<p>In social media network analysis, particularly in studies of political polarization, a <strong>&quot;bridge&quot;</strong> or <strong>&quot;cross-ideology bridge&quot;</strong> refers to a user (node) who connects otherwise separated ideological communities (e.g., liberal vs. conservative users on Twitter/X). åœ¨ç¤¾äº¤åª’é«”ç¶²è·¯åˆ†æžä¸­ï¼Œå°¤å…¶æ˜¯åœ¨æ”¿æ²»æ¥µåŒ–ç ”ç©¶ä¸­ï¼Œâ€œ<strong>æ©‹æ¨‘</strong>â€ï¼ˆbridgeï¼‰æˆ–â€œ<strong>è·¨æ„è­˜å½¢æ…‹æ©‹æ¨‘</strong>â€ï¼ˆcross-ideology bridgeï¼‰æŒ‡çš„æ˜¯é‚£äº›é€£æŽ¥åŽŸæœ¬å½¼æ­¤éš”é›¢çš„æ„è­˜å½¢æ…‹ç¾¤é«”ï¼ˆä¾‹å¦‚ Twitter/X ä¸Šè‡ªç”±æ´¾èˆ‡ä¿å®ˆæ´¾ç”¨æˆ¶ï¼‰çš„ç”¨æˆ¶ï¼ˆç¯€é»žï¼‰ã€‚</p>
<p>These bridges are rare but important because they are the few accounts through which information, memes, or influence can flow between opposing sides.  é€™é¡žæ©‹æ¨‘ååˆ†ç¨€å°‘ï¼Œå»è‡³é—œé‡è¦â€”â€”å› ç‚ºå®ƒå€‘æ˜¯è³‡è¨Šã€è¿·å› ï¼ˆmemeï¼‰æˆ–å½±éŸ¿åŠ›å¾—ä»¥åœ¨å°ç«‹é™£ç‡Ÿä¹‹é–“æµå‹•çš„å°‘æ•¸é€šé“ã€‚</p>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="14" data-marpit-scope-ipJnYPMp="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="14" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p>Nodes with <strong>high betweenness centrality</strong> lie on many shortest paths between other nodes. å…·æœ‰<strong>é«˜ä»²ä»‹ä¸­å¿ƒæ€§</strong>ï¼ˆhigh betweenness centralityï¼‰çš„ç¯€é»žï¼Œä½æ–¼å¤§é‡å…¶ä»–ç¯€é»žå°ä¹‹é–“çš„æœ€çŸ­è·¯å¾‘ä¸Šã€‚</p>
<p>In a polarized network, the graph naturally splits into two (or more) densely connected ideological clusters with very few connections between them. åœ¨ä¸€å€‹é«˜åº¦æ¥µåŒ–çš„ç¶²è·¯ä¸­ï¼Œåœ–çµæ§‹è‡ªç„¶åˆ†è£‚ç‚ºå…©å€‹ï¼ˆæˆ–å¤šå€‹ï¼‰å…§éƒ¨é€£æŽ¥ç·Šå¯†çš„æ„è­˜å½¢æ…‹ç°‡ç¾¤ï¼Œè€Œç°‡ç¾¤ä¹‹é–“çš„é€£æŽ¥æ¥µå°‘ã€‚</p>
<p>The <code>few existing connections</code> between clusters make certain nodes lie on almost all shortest paths that cross from one side to the other â†’ those nodes get extremely high betweenness scores. æ­£æ˜¯é€™äº›<strong>ç‚ºæ•¸ä¸å¤šçš„è·¨ç°‡é€£æŽ¥</strong>ï¼Œä½¿å¾—æŸäº›ç¯€é»žå¹¾ä¹Žå‡ºç¾åœ¨æ‰€æœ‰å¾žä¸€å´åˆ°å¦ä¸€å´çš„æœ€çŸ­è·¯å¾‘ä¸Šï¼Œå¾žè€Œç²å¾—æ¥µé«˜çš„ä»²ä»‹ä¸­å¿ƒæ€§å¾—åˆ†ã€‚</p>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="15" data-marpit-scope-fiZPGQas="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="15" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<h6 id="why-betweenness-works-so-well-for-cross-ideology-detection-%E7%82%BA%E4%BD%95%E4%BB%B2%E4%BB%8B%E4%B8%AD%E5%BF%83%E6%80%A7%E5%9C%A8%E8%AD%98%E5%88%A5%E8%B7%A8%E6%84%8F%E8%AD%98%E5%BD%A2%E6%85%8B%E6%A9%8B%E6%A8%91%E6%99%82%E5%A6%82%E6%AD%A4%E6%9C%89%E6%95%88">Why Betweenness Works So Well for Cross-Ideology Detection <strong>ç‚ºä½•ä»²ä»‹ä¸­å¿ƒæ€§åœ¨è­˜åˆ¥è·¨æ„è­˜å½¢æ…‹æ©‹æ¨‘æ™‚å¦‚æ­¤æœ‰æ•ˆï¼Ÿ</strong></h6>

<ul>
<li>
<p>In highly polarized networks, the graph is almost disconnected between ideologies åœ¨é«˜åº¦æ¥µåŒ–çš„ç¶²è·¯ä¸­ï¼Œä¸åŒæ„è­˜å½¢æ…‹ç¾¤é«”ä¹‹é–“çš„é€£æŽ¥è¿‘ä¹Žæ–·é–‹.</p>
</li>
<li>
<p>Almost any path from a left-leaning user to a right-leaning user must go through one of the rare cross-ideology edges å¹¾ä¹Žä»»ä½•å¾žå·¦å‚¾ä½¿ç”¨è€…åˆ°å³å‚¾ä½¿ç”¨è€…çš„è·¯å¾‘ï¼Œéƒ½å¿…é ˆç¶“éŽé‚£å¹¾æ¢ç½•è¦‹çš„è·¨æ„è­˜å½¢æ…‹é‚Š.</p>
</li>
<li>
<p>The users at the ends of those rare cross-ideology edges (or users who relay them) end up with disproportionately high betweenness centrality é€™äº›è·¨æ„è­˜å½¢æ…‹é‚Šå…©ç«¯çš„ç”¨æˆ¶ï¼ˆæˆ–è½‰ç™¼/ä¸­ç¹¼é€™äº›è³‡è¨Šçš„ä½¿ç”¨è€…ï¼‰ï¼Œå› æ­¤ä½”æ“šäº†å¤§é‡è·¨ç¾¤é«”æœ€çŸ­è·¯å¾‘çš„é—œéµä½ç½®ï¼Œå°Žè‡´å…¶<strong>ä»²ä»‹ä¸­å¿ƒæ€§é¡¯è‘—é«˜æ–¼å…¶ä»–ç¯€é»ž</strong>.</p>
</li>
<li>
<p>Therefore, the top-ranked nodes by betweenness centrality are almost always genuine cross-ideology bridges å› æ­¤ï¼ŒæŒ‰ä»²ä»‹ä¸­å¿ƒæ€§æŽ’åºé å‰çš„ç¯€é»žï¼Œå¹¾ä¹Žç¸½æ˜¯çœŸæ­£çš„è·¨æ„è­˜å½¢æ…‹æ©‹æ¨‘ã€‚.</p>
</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="16" data-marpit-scope-linBekLN="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="16" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-keyword">import</span> networkx <span class="hljs-keyword">as</span> nx
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> random

<span class="hljs-comment"># Set seed for reproducibility</span>
random.seed(<span class="hljs-number">42</span>)
np.random.seed(<span class="hljs-number">42</span>)

<span class="hljs-comment"># ========================================</span>
<span class="hljs-comment"># 1. Create a polarized network with 100 users</span>
<span class="hljs-comment"># ========================================</span>
n_left = <span class="hljs-number">50</span>   <span class="hljs-comment"># Left community</span>
n_right = <span class="hljs-number">50</span>  <span class="hljs-comment"># Right community</span>
n = n_left + n_right

G = nx.Graph()

<span class="hljs-comment"># Add nodes with ideology attribute</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_left):
    G.add_node(<span class="hljs-string">f&quot;L<span class="hljs-subst">{i}</span>&quot;</span>, ideology=<span class="hljs-string">&quot;Left&quot;</span>)
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_right):
    G.add_node(<span class="hljs-string">f&quot;R<span class="hljs-subst">{i}</span>&quot;</span>, ideology=<span class="hljs-string">&quot;Right&quot;</span>)

<span class="hljs-comment"># ========================================</span>
<span class="hljs-comment"># 2. Add dense connections WITHIN each side (homophily)</span>
<span class="hljs-comment"># ========================================</span>
<span class="hljs-comment"># Left community: high connection probability</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_left):
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i+<span class="hljs-number">1</span>, n_left):
        <span class="hljs-keyword">if</span> random.random() &lt; <span class="hljs-number">0.25</span>:  <span class="hljs-comment"># dense</span>
            G.add_edge(<span class="hljs-string">f&quot;L<span class="hljs-subst">{i}</span>&quot;</span>, <span class="hljs-string">f&quot;L<span class="hljs-subst">{j}</span>&quot;</span>)

<span class="hljs-comment"># Right community: high connection probability</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_right):
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i+<span class="hljs-number">1</span>, n_right):
        <span class="hljs-keyword">if</span> random.random() &lt; <span class="hljs-number">0.25</span>:
            G.add_edge(<span class="hljs-string">f&quot;R<span class="hljs-subst">{i}</span>&quot;</span>, <span class="hljs-string">f&quot;R<span class="hljs-subst">{j}</span>&quot;</span>)

<span class="hljs-comment"># ========================================</span>
<span class="hljs-comment"># 3. Add ONLY 4 cross-ideology bridges (the interesting part!)</span>
<span class="hljs-comment"># ========================================</span>
bridges = [
    (<span class="hljs-string">&quot;L5&quot;</span>,  <span class="hljs-string">&quot;R8&quot;</span>),   <span class="hljs-comment"># a journalist both sides follow</span>
    (<span class="hljs-string">&quot;L12&quot;</span>, <span class="hljs-string">&quot;R3&quot;</span>),   <span class="hljs-comment"># a moderate politician</span>
    (<span class="hljs-string">&quot;L23&quot;</span>, <span class="hljs-string">&quot;R19&quot;</span>),  <span class="hljs-comment"># local news outlet</span>
    (<span class="hljs-string">&quot;L41&quot;</span>, <span class="hljs-string">&quot;R33&quot;</span>)   <span class="hljs-comment"># satire account</span>
]

<span class="hljs-keyword">for</span> a, b <span class="hljs-keyword">in</span> bridges:
    G.add_edge(a, b)
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="17" data-marpit-scope-OsN5otep="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="17" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-comment"># ========================================</span>
<span class="hljs-comment"># 4. Compute betweenness centrality</span>
<span class="hljs-comment"># ========================================</span>
betweenness = nx.betweenness_centrality(G)

<span class="hljs-comment"># Convert to sorted list</span>
sorted_betweenness = <span class="hljs-built_in">sorted</span>(betweenness.items(), key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>], reverse=<span class="hljs-literal">True</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Top 15 nodes by betweenness centrality:&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span> * <span class="hljs-number">50</span>)
<span class="hljs-keyword">for</span> node, bc <span class="hljs-keyword">in</span> sorted_betweenness[:<span class="hljs-number">15</span>]:
    ideology = G.nodes[node][<span class="hljs-string">&#x27;ideology&#x27;</span>]
    is_bridge = <span class="hljs-string">&quot;BRIDGE&quot;</span> <span class="hljs-keyword">if</span> <span class="hljs-built_in">any</span>((node == a <span class="hljs-keyword">or</span> node == b) <span class="hljs-keyword">for</span> a, b <span class="hljs-keyword">in</span> bridges) <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;&quot;</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">{node:<span class="hljs-number">4</span>}</span> | Betweenness: <span class="hljs-subst">{bc:<span class="hljs-number">6.4</span>f}</span> | <span class="hljs-subst">{ideology:<span class="hljs-number">5</span>}</span> <span class="hljs-subst">{is_bridge}</span>&quot;</span>)
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="18" data-marpit-scope-wBU7hcMO="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="18" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-comment"># ========================================</span>
<span class="hljs-comment"># 5. Visualize the network</span>
<span class="hljs-comment"># ========================================</span>
plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))

pos = nx.spring_layout(G, seed=<span class="hljs-number">42</span>)

<span class="hljs-comment"># Color by ideology</span>
node_colors = [<span class="hljs-string">&#x27;#ff4444&#x27;</span> <span class="hljs-keyword">if</span> G.nodes[n][<span class="hljs-string">&#x27;ideology&#x27;</span>] == <span class="hljs-string">&#x27;Left&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;#4444ff&#x27;</span> <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> G.nodes()]

<span class="hljs-comment"># Make bridge nodes larger and yellow</span>
node_sizes = []
<span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> G.nodes():
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">any</span>((node == a <span class="hljs-keyword">or</span> node == b) <span class="hljs-keyword">for</span> a, b <span class="hljs-keyword">in</span> bridges):
        node_sizes.append(<span class="hljs-number">400</span>)
    <span class="hljs-keyword">else</span>:
        node_sizes.append(<span class="hljs-number">80</span>)

nx.draw(G, pos,
        node_color=node_colors,
        node_size=node_sizes,
        with_labels=<span class="hljs-literal">False</span>,
        edge_color=<span class="hljs-string">&#x27;gray&#x27;</span>,
        alpha=<span class="hljs-number">0.7</span>)

<span class="hljs-comment"># Highlight bridges in yellow</span>
bridge_nodes = <span class="hljs-built_in">set</span>()
<span class="hljs-keyword">for</span> a, b <span class="hljs-keyword">in</span> bridges:
    bridge_nodes.add(a)
    bridge_nodes.add(b)

nx.draw_networkx_nodes(G, pos,
                       nodelist=bridge_nodes,
                       node_color=<span class="hljs-string">&#x27;yellow&#x27;</span>,
                       node_size=<span class="hljs-number">500</span>,
                       edgecolors=<span class="hljs-string">&#x27;black&#x27;</span>,
                       linewidths=<span class="hljs-number">2</span>)

plt.title(<span class="hljs-string">&quot;Polarized Network with 4 Cross-Ideology Bridges (yellow nodes)\n&quot;</span>
          <span class="hljs-string">&quot;Betweenness centrality perfectly detects them!&quot;</span>, fontsize=<span class="hljs-number">14</span>)
plt.axis(<span class="hljs-string">&#x27;off&#x27;</span>)
plt.tight_layout()
plt.show()
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="19" data-marpit-scope-KjZr7zI7="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="19" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<h2 id="churn-prevention">Churn Prevention</h2>

<p><strong>Churn prevention</strong> is a critical use case where graph theory shinesâ€”especially by identifying isolated or disengaged customers (å­¤ç«‹ç‹€æ…‹æˆ–åƒèˆ‡åº¦ä¸‹é™çš„å®¢æˆ¶) who are at high risk of leaving. <strong>å®¢æˆ¶æµå¤±é é˜²</strong>æ˜¯åœ–è«–å¤§é¡¯èº«æ‰‹çš„é—œéµæ‡‰ç”¨å ´æ™¯ä¹‹ä¸€â€”â€”å°¤å…¶é«”ç¾åœ¨è­˜åˆ¥é‚£äº›è™•æ–¼<strong>å­¤ç«‹ç‹€æ…‹</strong>æˆ–<strong>åƒèˆ‡åº¦ä¸‹é™</strong>çš„å®¢æˆ¶ï¼Œä»–å€‘å¾€å¾€å…·æœ‰è¼ƒé«˜çš„æµå¤±é¢¨éšªã€‚</p>
<p>In a social or interaction-based product, <strong>low connectivity</strong> often signals <strong>disengagement</strong>, <strong>lack of network effects</strong>, or <strong>missing value</strong>â€”all strong churn predictors. åœ¨ä¾è³´ç¤¾äº¤äº’å‹•æˆ–ä½¿ç”¨è€…é–“é€£æŽ¥çš„ç”¢å“ä¸­, <strong>ä½Žé€£æŽ¥åº¦</strong>ï¼ˆlow connectivityï¼‰é€šå¸¸é ç¤ºè‘—: ç”¨æˆ¶åƒèˆ‡åº¦é™ä½Ž; æœªèƒ½å¾žç¶²è·¯æ•ˆæ‡‰ä¸­ç²ç›Š; æœªæ„ŸçŸ¥åˆ°ç”¢å“æ ¸å¿ƒåƒ¹å€¼.</p>
<p>é€™äº›å› ç´ éƒ½æ˜¯é æ¸¬å®¢æˆ¶æµå¤±çš„å¼·æœ‰åŠ›ä¿¡è™Ÿã€‚é€šéŽå°‡ç”¨æˆ¶å»ºæ¨¡ç‚ºåœ–ä¸­çš„ç¯€é»žã€äº’å‹•è¡Œç‚ºï¼ˆå¦‚æ¶ˆæ¯ã€å”ä½œã€é‚€è«‹ã€é»žè´Šç­‰ï¼‰å»ºæ¨¡ç‚ºé‚Šï¼Œä¼æ¥­å¯åˆ©ç”¨åœ–åˆ†æžæŠ€è¡“ï¼ˆå¦‚åº¦ä¸­å¿ƒæ€§ã€é€£é€šåˆ†é‡ã€ç¤¾å€æª¢æ¸¬ç­‰ï¼‰ä¸»å‹•è­˜åˆ¥é«˜é¢¨éšªç”¨æˆ¶ï¼Œä¸¦åŠæ™‚å¹²é ï¼Œå¾žè€Œæœ‰æ•ˆé™ä½Žæµå¤±çŽ‡ã€‚</p>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="20" data-marpit-scope-fs3MbOBc="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="20" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p>We can compute metrics like <strong>degree</strong>, <strong>ego network size</strong>, and <strong>clustering coefficient</strong> to flag &quot;at-risk&quot; (churn-prone) customers. These metrics capture engagement levels and social &quot;stickiness&quot;:</p>
<ul>
<li>
<p><strong>Degree = 0</strong>: Isolated nodes with no connections indicate completely disengaged customers, highly likely to churn due to lack of activity or ties. <strong>ç¯€é»žåº¦</strong>ï¼ˆDegreeï¼‰ï¼šå®¢æˆ¶ç›´æŽ¥é€£æŽ¥çš„å…¶ä»–ç¯€é»žæ•¸é‡ï¼ˆå¦‚å¥½å‹ã€äº’å‹•ç‰©ä»¶ã€è³¼è²·å“é¡žç­‰ï¼‰ã€‚ä½Žåº¦  å¯èƒ½æ„å‘³è‘—åƒèˆ‡åº¦ä½Žæˆ–ç¤¾äº¤å­¤ç«‹ã€‚</p>
</li>
<li>
<p><strong>Ego network size = 1 or 2</strong>: The ego network is the subgraph consisting of a node (the &quot;ego&quot;) and its direct neighbors. Size 1 means isolated (degree 0); size 2 means only one connection (degree 1). These small egos suggest minimal integration into the network, making churn easier without social repercussions (based on homophilyâ€”similar users tend to behave alike). <strong>è‡ªæˆ‘ä¸­å¿ƒç¶²è·¯è¦æ¨¡</strong>ï¼ˆEgo-network Sizeï¼‰ï¼šä»¥å®¢æˆ¶ç‚ºä¸­å¿ƒã€åœ¨ç‰¹å®šè·³æ•¸å…§ï¼ˆé€šå¸¸ç‚º1è·³ï¼‰å¯é”çš„æ‰€æœ‰ç¯€é»žæ•¸é‡è‡ªæˆ‘ä¸­å¿ƒç½‘ç»œ = ç”¨æˆ·è‡ªèº« + å…¶ç›´æŽ¥é‚»å±…ã€‚è¦æ¨¡éŽå°å¯èƒ½åæ˜ æ•´é«”ç¶²è·¯åµŒå…¥åº¦ä¸è¶³ã€‚</p>
</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="21" data-marpit-scope-eJZNscqe="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="21" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<ul>
<li><strong>Low clustering coefficient</strong>: This measures how densely a node's neighbors are connected to each other (fraction of possible triangles that exist). Low values (e.g., &lt; 0.2) indicate sparse local communities, implying weak relational bonds and higher churn propensity, as the customer isn't embedded in a tight-knit group. <strong>èšé¡žä¿‚æ•¸</strong>ï¼ˆClustering Coefficientï¼‰ï¼šè¡¡é‡å®¢æˆ¶é„°å±…ä¹‹é–“å½¼æ­¤é€£æŽ¥çš„ç·Šå¯†ç¨‹åº¦ã€‚ä½Žèšé¡žä¿‚æ•¸å¯èƒ½è¡¨æ˜Žå…¶ç¤¾äº¤åœˆé¬†æ•£æˆ–ç¼ºä¹ç¤¾ç¾¤æ­¸å±¬ã€‚
<ul>
<li><strong>é«˜èšé¡žä¿‚æ•¸</strong>ï¼šä½¿ç”¨è€…æ‰€è™•çš„å±€éƒ¨ç¶²è·¯ç·Šå¯†ï¼ˆä¾‹å¦‚ï¼Œæ‰€åœ¨åœ˜éšŠæˆå“¡ä¹‹é–“é »ç¹å”ä½œï¼‰ï¼Œèªªæ˜Žå…¶æ·±åº¦åµŒå…¥æŸå€‹æ´»èºå­ç¾¤ï¼Œæµå¤±é¢¨éšªè¼ƒä½Žã€‚</li>
<li><strong>ä½Ž/é›¶èšé¡žä¿‚æ•¸</strong>ï¼šå³ä½¿ç”¨æˆ¶æœ‰å¤šå€‹é€£æŽ¥ï¼Œä½†é€™äº›é€£æŽ¥å½¼æ­¤ä¸é—œè¯ï¼ˆå¦‚éš¨æ©Ÿä½¿ç”¨å¤šå€‹å­¤ç«‹åŠŸèƒ½ï¼‰ï¼Œå¯èƒ½åæ˜ æ·ºå±¤åƒèˆ‡ï¼Œä»å­˜åœ¨æµå¤±éš±æ‚£ã€‚</li>
</ul>
</li>
</ul>
<p>é€™äº›æŒ‡æ¨™å…±åŒåˆ»ç•«äº†å®¢æˆ¶åœ¨æ•´é«”ç¶²è·¯ä¸­çš„<code>åµŒå…¥æ€§ï¼ˆembeddednessï¼‰</code>â€”â€”åµŒå…¥æ€§è¶Šä½Žï¼Œè¶Šå¯èƒ½è™•æ–¼å­¤ç«‹ç‹€æ…‹ï¼Œæµå¤±é¢¨éšªè¶Šé«˜ã€‚</p>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="22" data-marpit-scope-Kc8SMNiG="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="22" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p>Degree = social integration**, <strong>Isolated nodes = abandoned users</strong>, **Weak ties (degree=1) = one foot out the door.</p>
<ul>
<li>
<p><strong>ç¤¾äº¤èžå…¥ç¨‹åº¦</strong>ï¼ˆSocial Integrationï¼‰ï¼šç”¨æˆ¶åœ¨å¹³è‡ºæˆ–ç¤¾å€ä¸­èˆ‡å…¶ä»–ä½¿ç”¨è€…æˆ–å¯¦é«”çš„é€£æŽ¥å»£åº¦ï¼Œé€šå¸¸ç”¨ åº¦ï¼ˆdegreeï¼‰è¡¡é‡ã€‚é€£æŽ¥è¶Šå¤šï¼Œç²˜æ€§è¶Šå¼·ã€‚</p>
</li>
<li>
<p><strong>å­¤ç«‹ç¯€é»ž</strong>ï¼ˆIsolated Nodesï¼‰ï¼šåº¦ç‚º0çš„ç¯€é»žï¼Œæ„å‘³è‘—è©²ç”¨æˆ¶æ²’æœ‰ä»»ä½•äº¤äº’ã€é—œæ³¨ã€è³¼è²·æˆ–å…¶ä»–è¡Œç‚ºé—œè¯ï¼Œæ¥µå¯èƒ½å·²æµå¤±æˆ–å¾žæœªçœŸæ­£å•Ÿå‹•ã€‚</p>
</li>
<li>
<p><strong>å¼±é€£æŽ¥</strong> <strong>/ â€œä¸€éš»è…³å‡ºé–€â€</strong>ï¼ˆWeak Ties, degree=1ï¼‰ï¼šåƒ…æœ‰å–®æ¬¡æˆ–å–®ä¸€é¡žåž‹çš„äº’å‹•ï¼ˆå¦‚åªé—œæ³¨ä¸€å€‹KOLã€åªè²·éŽä¸€æ¬¡å•†å“ï¼‰ï¼Œç¼ºä¹å¤šå…ƒé€£æŽ¥ï¼Œå¿ èª åº¦ä½Žï¼Œæ¥µæ˜“æµå¤±ã€‚</p>
</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="23" data-marpit-scope-pKOj0B6n="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="23" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-keyword">import</span> networkx <span class="hljs-keyword">as</span> nx
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 1. Simulate Customer Interaction Data</span>
<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># Example: platform where users collaborate (message, share files, mention)</span>
<span class="hljs-comment"># Format: (user, interacts_with)</span>
interactions = [
    (<span class="hljs-string">&quot;user1&quot;</span>, <span class="hljs-string">&quot;user2&quot;</span>),
    (<span class="hljs-string">&quot;user1&quot;</span>, <span class="hljs-string">&quot;user3&quot;</span>),
    (<span class="hljs-string">&quot;user2&quot;</span>, <span class="hljs-string">&quot;user3&quot;</span>),
    (<span class="hljs-string">&quot;user4&quot;</span>, <span class="hljs-string">&quot;user5&quot;</span>),
    (<span class="hljs-string">&quot;user5&quot;</span>, <span class="hljs-string">&quot;user4&quot;</span>),
    <span class="hljs-comment"># Isolated or near-isolated users (churn risk)</span>
    (<span class="hljs-string">&quot;user6&quot;</span>, <span class="hljs-string">&quot;user7&quot;</span>),  <span class="hljs-comment"># only one weak link</span>
    (<span class="hljs-string">&quot;user8&quot;</span>, <span class="hljs-literal">None</span>),     <span class="hljs-comment"># completely isolated</span>
    (<span class="hljs-string">&quot;user9&quot;</span>, <span class="hljs-literal">None</span>),
    (<span class="hljs-string">&quot;user10&quot;</span>, <span class="hljs-string">&quot;user11&quot;</span>),
    (<span class="hljs-string">&quot;user11&quot;</span>, <span class="hljs-string">&quot;user10&quot;</span>),
    (<span class="hljs-string">&quot;user12&quot;</span>, <span class="hljs-literal">None</span>),    <span class="hljs-comment"># silent user</span>
]

<span class="hljs-comment"># Build an undirected graph of user interactions</span>
G = nx.Graph()

<span class="hljs-comment"># Add all users</span>
all_users = <span class="hljs-built_in">set</span>()
<span class="hljs-keyword">for</span> u, v <span class="hljs-keyword">in</span> interactions: <span class="hljs-comment"># å–å‡ºsenter, receiver</span>
    all_users.add(u)
    <span class="hljs-keyword">if</span> v <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        all_users.add(v)

G.add_nodes_from(all_users)

<span class="hljs-comment"># Add edges where interaction exists</span>
<span class="hljs-keyword">for</span> u, v <span class="hljs-keyword">in</span> interactions:
    <span class="hljs-keyword">if</span> v <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        G.add_edge(u, v)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Total users: <span class="hljs-subst">{G.number_of_nodes()}</span>&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Connected users: <span class="hljs-subst">{<span class="hljs-built_in">len</span>([n <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> G.nodes() <span class="hljs-keyword">if</span> G.degree(n) &gt; <span class="hljs-number">0</span>])}</span>&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Isolated users: <span class="hljs-subst">{<span class="hljs-built_in">len</span>([n <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> G.nodes() <span class="hljs-keyword">if</span> G.degree(n) == <span class="hljs-number">0</span>])}</span>&quot;</span>)
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="24" data-marpit-scope-wERZTT0x="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="24" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 2. Identify At-Risk (Churn-Prone) Customers</span>
<span class="hljs-comment"># ----------------------------</span>
churn_risk = []

<span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> G.nodes():
    degree = G.degree(user)
    <span class="hljs-comment"># Ego network = user + direct neighbors</span>
    ego = nx.ego_graph(G, user, radius=<span class="hljs-number">1</span>) <span class="hljs-comment"># &lt;----</span>
    
    ego_size = ego.number_of_nodes()  <span class="hljs-comment"># 1 = isolated</span>
    
    <span class="hljs-comment"># Optional: clustering coefficient (how connected are their friends?)</span>
    <span class="hljs-comment"># Not defined for degree &lt; 2</span>
    clustering = nx.clustering(G, user) <span class="hljs-keyword">if</span> degree &gt;= <span class="hljs-number">2</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0.0</span>
    
    <span class="hljs-comment"># Heuristic for churn risk:</span>
    <span class="hljs-comment"># - Degree == 0 â†’ completely isolated</span>
    <span class="hljs-comment"># - Degree == 1 and ego_size == 2 â†’ only one weak tie</span>
    <span class="hljs-keyword">if</span> degree == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> (degree == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> ego_size == <span class="hljs-number">2</span>):
        churn_risk.append({
            <span class="hljs-string">&quot;user&quot;</span>: user,
            <span class="hljs-string">&quot;degree&quot;</span>: degree,
            <span class="hljs-string">&quot;ego_size&quot;</span>: ego_size,
            <span class="hljs-string">&quot;clustering&quot;</span>: clustering
        })

<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;\n <span class="hljs-subst">{<span class="hljs-built_in">len</span>(churn_risk)}</span> users flagged for high churn risk:&quot;</span>)
<span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> churn_risk:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;  <span class="hljs-subst">{r[<span class="hljs-string">&#x27;user&#x27;</span>]}</span>: degree=<span class="hljs-subst">{r[<span class="hljs-string">&#x27;degree&#x27;</span>]}</span>, ego_size=<span class="hljs-subst">{r[<span class="hljs-string">&#x27;ego_size&#x27;</span>]}</span>&quot;</span>)
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="25" data-marpit-scope-2ILQlJej="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="25" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 3. Prioritize for Retention Campaigns</span>
<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># Offer onboarding help, feature tutorial, or referral bonus</span>
retention_actions = {
    <span class="hljs-string">&quot;degree=0&quot;</span>: <span class="hljs-string">&quot;Send re-engagement email + product walkthrough&quot;</span>,
    <span class="hljs-string">&quot;degree=1&quot;</span>: <span class="hljs-string">&quot;Suggest connections or team members to invite&quot;</span>
}

<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n Suggested retention actions:&quot;</span>)
<span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> churn_risk:
    <span class="hljs-keyword">if</span> r[<span class="hljs-string">&quot;degree&quot;</span>] == <span class="hljs-number">0</span>:
        action = retention_actions[<span class="hljs-string">&quot;degree=0&quot;</span>]
    <span class="hljs-keyword">else</span>:
        action = retention_actions[<span class="hljs-string">&quot;degree=1&quot;</span>]
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;  <span class="hljs-subst">{r[<span class="hljs-string">&#x27;user&#x27;</span>]}</span> â†’ <span class="hljs-subst">{action}</span>&quot;</span>)

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 4. Visualize Network (Highlight At-Risk Users)</span>
<span class="hljs-comment"># ----------------------------</span>
plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))
pos = nx.spring_layout(G, seed=<span class="hljs-number">42</span>)

<span class="hljs-comment"># Color nodes: green = connected, red = at-risk</span>
node_colors = []
node_sizes = []
<span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> G.nodes():
    <span class="hljs-keyword">if</span> node <span class="hljs-keyword">in</span> [r[<span class="hljs-string">&quot;user&quot;</span>] <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> churn_risk]:
        node_colors.append(<span class="hljs-string">&quot;red&quot;</span>)
        node_sizes.append(<span class="hljs-number">600</span>)
    <span class="hljs-keyword">else</span>:
        node_colors.append(<span class="hljs-string">&quot;lightgreen&quot;</span>)
        node_sizes.append(<span class="hljs-number">400</span>)

nx.draw(
    G, pos,
    node_color=node_colors,
    node_size=node_sizes,
    with_labels=<span class="hljs-literal">True</span>,
    font_size=<span class="hljs-number">10</span>,
    edge_color=<span class="hljs-string">&quot;gray&quot;</span>
)

plt.title(<span class="hljs-string">&quot;Customer Interaction Graph\n Red = High Churn Risk (Isolated)&quot;</span>)
plt.tight_layout()
plt.show()
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="26" data-marpit-scope-15rs97S1="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="26" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<h2 id="application-in-marketing">Application in Marketing</h2>

<p><code>Influencer marketing</code> leverages social networks to promote products/ideas through key individuals who can amplify messages. ç¶²ç´…è¡ŒéŠ·ï¼ˆInfluencer marketingï¼‰å€ŸåŠ©ç¤¾äº¤ç¶²è·¯ï¼Œé€šéŽ é—œéµå€‹é«” ä¾†æŽ¨å»£ç”¢å“æˆ–ç†å¿µï¼Œé€™äº›å€‹é«”èƒ½å¤ æ”¾å¤§å‚³æ’­è³‡è¨Š.</p>
<p>Graph theory models this as nodes (users) and edges (interactions/referrals), identifying influencers via metrics like <code>high-degree (broad reach)</code>, <code>high betweenness (information brokers)</code>, and <code>echo chambers (amplified niches)</code>. åœ–è«–å°‡é€™ä¸€éŽç¨‹å»ºæ¨¡ç‚ºç¯€é»žï¼ˆç”¨æˆ¶ï¼‰å’Œé‚Šï¼ˆäº’å‹•/æŽ¨è–¦ï¼‰ï¼Œä¸¦é€šéŽå¤šç¨®æŒ‡æ¨™è­˜åˆ¥é—œéµå½±éŸ¿è€…ï¼š<strong>é«˜é€£æŽ¥åº¦</strong>ï¼ˆhigh-degreeï¼Œä»£è¡¨å»£æ³›è§¸é”ï¼‰ã€<strong>é«˜ä»‹æ•¸ä¸­å¿ƒæ€§</strong>ï¼ˆhigh betweennessï¼Œä½œç‚ºè³‡è¨Šä»²ä»‹é€£æŽ¥ä¸åŒç¾¤é«”ï¼‰ï¼Œä»¥åŠ<strong>å›žéŸ³å®¤æ•ˆæ‡‰</strong>ï¼ˆecho chambersï¼ŒæŒ‡è³‡è¨Šåœ¨å°é–‰å°åœˆå­å…§è¢«ä¸æ–·å¼·åŒ–çš„å‚³æ’­ç¾è±¡ï¼‰ã€‚</p>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="27" data-marpit-scope-jDbvSoMM="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="27" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p><strong>High-degree â‰  high influence.</strong> A user with 10K followers in one echo chamber spreads your message only <em>within</em> that bubble. ä¸€å€‹åœ¨å–®ä¸€å›žéŸ³å®¤ï¼ˆecho chamberï¼‰ä¸­æ“æœ‰ 1 è¬ç²‰çµ²çš„ç”¨æˆ¶ï¼Œåªèƒ½å°‡ä½ çš„è³‡è¨Š<strong>å±€é™åœ¨è©²åœˆå­å…§éƒ¨å‚³æ’­</strong></p>
<p>A user with <strong>high betweenness</strong> connects <strong>multiple communities</strong>â€”they <strong>diffuse</strong> your message. <strong>é«˜é€£æŽ¥åº¦</strong> <strong>â‰ </strong> <strong>é«˜å½±éŸ¿åŠ›</strong>ã€‚ ï¼›è€Œä¸€å€‹<strong>ä»‹æ•¸ä¸­å¿ƒæ€§</strong>ï¼ˆbetweennessï¼‰é«˜çš„ç”¨æˆ¶ï¼Œå‰‡é€£æŽ¥è‘—<strong>å¤šå€‹ä¸åŒç¤¾ç¾¤</strong>ï¼Œèƒ½å¤ çœŸæ­£<strong>æ“´æ•£</strong>ï¼ˆdiffuseï¼‰ä½ çš„è³‡è¨Šï¼Œå¯¦ç¾è·¨åœˆå±¤å‚³æ’­ã€‚</p>
<ul>
<li><strong>Echo Chamber</strong>ï¼ˆå›žéŸ³å®¤ ï¼‰ï¼šDensely connected subgraph with high internal clustering but low external ties â†’ opinions &quot;echo&quot; inside. æŒ‡ç”¨æˆ¶åƒ…èˆ‡è§€é»žç›¸ä¼¼çš„äººäº’å‹•ï¼Œè³‡è¨Šåœ¨å°é–‰ç¾¤é«”å…§åå¾©è¿´åœˆï¼Œç¼ºä¹å¤–éƒ¨æ»²é€ã€‚
<ul>
<li><strong>High-degree</strong>ï¼ˆé«˜é€£æŽ¥åº¦ï¼‰ï¼šHas many followers and frequent interactions, but if these connections are confined within a single community, the reach of information remains limited. ç²‰çµ²å¤šã€äº’å‹•å¤šï¼Œä½†è‹¥éƒ½åœ¨åŒä¸€ç¤¾ç¾¤å…§ï¼Œå‚³æ’­å»£åº¦æœ‰é™ã€‚</li>
<li><strong>High Betweenness</strong>ï¼ˆé«˜ä»‹æ•¸ä¸­å¿ƒæ€§ï¼‰ï¼šActs as a &quot;bridge&quot; node between multiple communities. Even with fewer followers, such users can effectively relay information from one group to another, thereby <strong>unlocking network-wide diffusion</strong>. ä½æ–¼å¤šå€‹ç¤¾ç¾¤ä¹‹é–“çš„â€œæ©‹æ¨‘â€ç¯€é»žï¼Œå³ä½¿ç²‰çµ²ä¸å¤šï¼Œä¹Ÿèƒ½å°‡è³‡è¨Šå¾žä¸€å€‹ç¾¤é«”å‚³éžåˆ°å¦ä¸€å€‹ç¾¤é«”ï¼Œ<strong>æ’¬å‹•å…¨åŸŸå‚³æ’­</strong>ã€‚</li>
</ul>
</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="28" data-marpit-scope-6biT5K4s="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="28" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p>Thus, <strong>identify bridge users</strong>: Use graph analysis to find ordinary users with high betweenness centralityâ€”such as employees who span departments or individuals active across diverse interest-based communitiesâ€”as they may be far more effective spreaders than highly connected but insular users. so <strong>è­˜åˆ¥æ©‹æ¨‘ç”¨æˆ¶</strong>ï¼šé€šéŽåœ–åˆ†æžæ‰¾å‡º ä»‹æ•¸ä¸­å¿ƒæ€§é«˜çš„æ™®é€šç”¨æˆ¶ï¼ˆå¦‚è·¨éƒ¨é–€å“¡å·¥ã€å¤šèˆˆè¶£ç¤¾ç¾¤åƒèˆ‡è€…ï¼‰ï¼Œä»–å€‘å¯èƒ½æ˜¯æ›´é«˜æ•ˆçš„å‚³æ’­ç¯€é»žã€‚</p>
<ul>
<li><strong>ç­–ç•¥èª¿æ•´</strong>ï¼šIn seeding campaigns or word-of-mouth marketing, prioritize users who <strong>connect different communities</strong>. True influence isnâ€™t about how many people you knowâ€”itâ€™s about how many <strong>mutually disconnected worlds</strong> you link together. åœ¨ç¨®å­ç”¨æˆ¶æŠ•æ”¾æˆ–å£ç¢‘è¡ŒéŠ·ä¸­ï¼Œå„ªå…ˆé¸æ“‡<strong>é€£æŽ¥ä¸åŒç¤¾å€çš„ç”¨æˆ¶</strong>. çœŸæ­£çš„å½±éŸ¿åŠ›ï¼Œä¸åœ¨æ–¼ä½ èªè­˜å¤šå°‘äººï¼Œè€Œåœ¨æ–¼ä½ é€£æŽ¥äº†å¤šå°‘å€‹<strong>å½¼æ­¤ä¸èªè­˜çš„ä¸–ç•Œ</strong>ã€‚</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="29" data-marpit-scope-Xbf1Y3qh="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="29" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-keyword">import</span> networkx <span class="hljs-keyword">as</span> nx
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 1. Simulate a Referral/Interaction Network</span>
<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># Format: (referrer, referred) â€” or (user1, user2) for mutual interaction</span>
edges = [
    <span class="hljs-comment"># Community A: Tech enthusiasts</span>
    (<span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;Bob&quot;</span>),
    (<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-string">&quot;Charlie&quot;</span>),
    (<span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;Charlie&quot;</span>),
    (<span class="hljs-string">&quot;Charlie&quot;</span>, <span class="hljs-string">&quot;Diana&quot;</span>),
    
    <span class="hljs-comment"># Community B: Fitness group</span>
    (<span class="hljs-string">&quot;Eve&quot;</span>, <span class="hljs-string">&quot;Frank&quot;</span>),
    (<span class="hljs-string">&quot;Frank&quot;</span>, <span class="hljs-string">&quot;Grace&quot;</span>),
    (<span class="hljs-string">&quot;Eve&quot;</span>, <span class="hljs-string">&quot;Grace&quot;</span>),
    
    <span class="hljs-comment"># Community C: Sustainability advocates</span>
    (<span class="hljs-string">&quot;Helen&quot;</span>, <span class="hljs-string">&quot;Ivy&quot;</span>),
    (<span class="hljs-string">&quot;Ivy&quot;</span>, <span class="hljs-string">&quot;Jack&quot;</span>),
    (<span class="hljs-string">&quot;Helen&quot;</span>, <span class="hljs-string">&quot;Jack&quot;</span>),
    
    <span class="hljs-comment">#  BRIDGE NODES (potential influencers)</span>
    (<span class="hljs-string">&quot;Diana&quot;</span>, <span class="hljs-string">&quot;Eve&quot;</span>),   <span class="hljs-comment"># connects Tech <img class="emoji" draggable="false" alt="â†”" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@16.0.1/assets/svg/2194.svg" data-marp-twemoji=""/> Fitness</span>
    (<span class="hljs-string">&quot;Grace&quot;</span>, <span class="hljs-string">&quot;Helen&quot;</span>), <span class="hljs-comment"># connects Fitness <img class="emoji" draggable="false" alt="â†”" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@16.0.1/assets/svg/2194.svg" data-marp-twemoji=""/> Sustainability</span>
    (<span class="hljs-string">&quot;Jack&quot;</span>, <span class="hljs-string">&quot;Alice&quot;</span>),  <span class="hljs-comment"># connects Sustainability <img class="emoji" draggable="false" alt="â†”" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@16.0.1/assets/svg/2194.svg" data-marp-twemoji=""/> Tech â†’ forms a cycle</span>
]

<span class="hljs-comment"># Build an undirected graph (referrals are mutual in influence)</span>
G = nx.Graph()
G.add_edges_from(edges) <span class="hljs-comment"># edge list</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Network: <span class="hljs-subst">{G.number_of_nodes()}</span> users, <span class="hljs-subst">{G.number_of_edges()}</span> connections&quot;</span>)
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="30" data-marpit-scope-kePgDJrv="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="30" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 2. Compute Betweenness Centrality</span>
<span class="hljs-comment"># ----------------------------</span>
betweenness = nx.betweenness_centrality(G)

<span class="hljs-comment"># Sort by betweenness (descending)</span>
influencers = <span class="hljs-built_in">sorted</span>(betweenness.items(), key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>], reverse=<span class="hljs-literal">True</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n Top Influencers by Betweenness Centrality:&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;User\t\tBetweenness\tRole&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span> * <span class="hljs-number">45</span>)
<span class="hljs-keyword">for</span> user, score <span class="hljs-keyword">in</span> influencers[:<span class="hljs-number">5</span>]:
    role = <span class="hljs-string">&quot;Bridge&quot;</span> <span class="hljs-keyword">if</span> score &gt; <span class="hljs-number">0.2</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;Local&quot;</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">{user:&lt;<span class="hljs-number">12</span>}</span>\t<span class="hljs-subst">{score:<span class="hljs-number">.3</span>f}</span>\t\t<span class="hljs-subst">{role}</span>&quot;</span>)

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 3. Why Betweenness &gt; Degree?</span>
<span class="hljs-comment"># ----------------------------</span>
degree = <span class="hljs-built_in">dict</span>(G.degree())
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n Degree vs. Betweenness (Top 5 by degree):&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;User\tDegree\tBetweenness&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span> * <span class="hljs-number">30</span>)
<span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> <span class="hljs-built_in">sorted</span>(degree, key=degree.get, reverse=<span class="hljs-literal">True</span>)[:<span class="hljs-number">5</span>]:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">{user:&lt;<span class="hljs-number">12</span>}</span>\t<span class="hljs-subst">{degree[user]}</span>\t<span class="hljs-subst">{betweenness[user]:<span class="hljs-number">.3</span>f}</span>&quot;</span>)

<span class="hljs-comment"># â†’ Notice: high-degree users may have LOW betweenness!</span>
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="31" data-marpit-scope-UZQsVcQO="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="31" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 4. Visualize: Highlight Bridge Influencers</span>
<span class="hljs-comment"># ----------------------------</span>
plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))

<span class="hljs-comment"># Get the current axes</span>
ax = plt.gca()

<span class="hljs-comment"># Layout</span>
pos = nx.spring_layout(G, seed=<span class="hljs-number">42</span>)

<span class="hljs-comment"># Color nodes by betweenness (red = high)</span>
node_colors = [betweenness[node] <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> G.nodes()]
node_sizes = [<span class="hljs-number">3000</span> * betweenness[node] + <span class="hljs-number">300</span> <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> G.nodes()]

<span class="hljs-comment"># Draw the graph</span>
nx.draw(
    G, pos,
    node_color=node_colors,
    cmap=plt.cm.plasma,
    node_size=node_sizes,
    with_labels=<span class="hljs-literal">True</span>,
    font_size=<span class="hljs-number">10</span>,
    edge_color=<span class="hljs-string">&quot;gray&quot;</span>,
    width=<span class="hljs-number">1.5</span>,
    ax=ax  <span class="hljs-comment"># Explicitly pass ax</span>
)

<span class="hljs-comment"># Add colorbar using the same axes</span>
sm = plt.cm.ScalarMappable(
    cmap=plt.cm.plasma,
    norm=plt.Normalize(vmin=<span class="hljs-built_in">min</span>(node_colors), vmax=<span class="hljs-built_in">max</span>(node_colors))
)
sm.set_array([])  <span class="hljs-comment"># Required for older matplotlib versions</span>
plt.colorbar(sm, ax=ax, label=<span class="hljs-string">&quot;Betweenness Centrality&quot;</span>)  <span class="hljs-comment"># &lt;-- pass ax here</span>

plt.title(<span class="hljs-string">&quot;Referral Network: Node Size &amp; Color = Betweenness Centrality\n Red/Large = Key Influencers (Bridge Communities)&quot;</span>)
plt.tight_layout()
plt.show()

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 5. Marketing Action: Target Bridge Influencers</span>
<span class="hljs-comment"># ----------------------------</span>
top_influencer = influencers[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;\n Recommendation: Partner with &#x27;<span class="hljs-subst">{top_influencer}</span>&#x27; for campaign.&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Why? They connect multiple communitiesâ€”maximizing spread and diversity of reach.&quot;</span>)
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="32" data-marpit-scope-XpN7DusG="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="32" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<h2 id="application-in-finance">Application in Finance</h2>
<p><strong>Portfolio Risk Using Graph Theory</strong></p>

<p>Financial assets (stocks, bonds, derivatives) exhibit <code>interdependencies</code> driven by market dynamics, sectors, or macroeconomic factors. Graph theory helps model and analyze these dependencies.</p>
<h6 id="minimum-spanning-trees-msts">Minimum Spanning Trees (MSTs)</h6>
<p>It is a powerful tool in finance for extracting a <strong>robust and interpretable skeletal structure</strong> from complex correlation networks, helping to uncover intrinsic market linkages, identify key nodes, and support informed decision-making. <strong>æœ€å°ç”Ÿæˆæ¨¹</strong>åœ¨é‡‘èžä¸­æ˜¯ä¸€ç¨®å¼·å¤§çš„å·¥å…·ï¼Œç”¨æ–¼å¾žè¤‡é›œçš„ç›¸é—œæ€§ç¶²è·¯ä¸­æå–<strong>ç©©å¥ã€å¯è§£é‡‹çš„éª¨æž¶çµæ§‹</strong>ï¼Œèª¬æ˜Žç†è§£å¸‚å ´å…§åœ¨è¯ç¹«ã€è­˜åˆ¥é—œéµç¯€é»žï¼Œä¸¦æ”¯æŒæ±ºç­–åˆ¶å®šã€‚</p>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="33" data-marpit-scope-6FUT62aX="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="33" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p>MSTs achieve this by revealing the <strong>core dependency structure and interrelationships</strong> among a large set of financial assetsâ€”such as stocks, indices, or currenciesâ€”in the most concise and non-redundant way possible.<strong>æœ€å°ç”Ÿæˆæ¨¹</strong>ï¼ˆMinimum Spanning Trees, MSTsï¼‰ï¼Œæ˜¯å› ç‚ºå®ƒèƒ½ä»¥æœ€ç°¡æ½”ã€ç„¡å†—é¤˜çš„æ–¹å¼æ­ç¤ºå¤§é‡é‡‘èžè³‡ç”¢ï¼ˆå¦‚è‚¡ç¥¨ã€æŒ‡æ•¸æˆ–è²¨å¹£ï¼‰ä¹‹é–“çš„<strong>æ ¸å¿ƒä¾è³´çµæ§‹å’Œé—œè¯é—œä¿‚</strong>ã€‚</p>
<ul>
<li><strong>Noise Reduction and Network Simplification</strong>ï¼šFinancial market data often contain substantial noise and redundant correlations. The MST constructs an acyclic, connected subgraph by retaining only the minimal set of edges needed to connect all nodes (e.g., stocks), with the total edge weight minimized (typically based on distance metrics derived from negative correlations or dissimilarity measures). This filters out weaker or spurious relationships and highlights the most significant co-movements.é‡‘èžå¸‚å ´è³‡æ–™é€šå¸¸åŒ…å«å¤§é‡é›œè¨Šå’Œå†—é¤˜ç›¸é—œæ€§ã€‚MST é€šéŽä¿ç•™é€£æŽ¥æ‰€æœ‰ç¯€é»žï¼ˆå¦‚è‚¡ç¥¨ï¼‰æ‰€éœ€çš„æœ€å°‘é‚Šï¼ˆä¸”ç¸½æ¬Šé‡æœ€å°ï¼Œé€šå¸¸åŸºæ–¼è² ç›¸é—œæ€§æˆ–è·é›¢åº¦é‡ï¼‰ï¼Œæ§‹å»ºä¸€å€‹ç„¡ç’°ã€é€£é€šçš„å­åœ–ï¼Œå¾žè€ŒéŽæ¿¾æŽ‰æ¬¡è¦é—œè¯ï¼Œçªå‡ºæœ€é‡è¦çš„è¯å‹•é—œä¿‚ã€‚</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="34" data-marpit-scope-t3MaZTFt="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="34" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<ul>
<li>
<p><strong>Identifying Systemic Risk and Sector Structure</strong>ï¼šBy analyzing the MSTâ€™s topologyâ€”such as hub nodes and branch lengthsâ€”one can detect which assets serve as â€œhubsâ€ (potentially playing a critical role in systemic risk transmission) and how the market naturally clusters into sectors or groupsé€šéŽè§€å¯Ÿ MST çš„æ‹“æ’²çµæ§‹ï¼ˆå¦‚ä¸­å¿ƒç¯€é»žã€åˆ†æ”¯é•·åº¦ï¼‰ï¼Œå¯ä»¥ç™¼ç¾å“ªäº›è³‡ç”¢è™•æ–¼â€œæ¨žç´â€ä½ç½®ï¼ˆå¯èƒ½å°ç³»çµ±æ€§é¢¨éšªå‚³å°Žèµ·é—œéµä½œç”¨ï¼‰ï¼Œä»¥åŠå¸‚å ´å¦‚ä½•åˆ†çµ„ã€‚</p>
</li>
<li>
<p><strong>Monitoring Market Dynamics</strong>ï¼šOver time, structural changes in the MSTâ€”such as shifts in central hubs or sector reconfigurationsâ€”can reflect evolving market conditions (e.g., a sharp increase in cross-asset correlations during a financial crisis), providing early warning signals for risk management.éš¨è‘—æ™‚é–“æŽ¨ç§»ï¼ŒMST çš„çµæ§‹è®ŠåŒ–ï¼ˆå¦‚ä¸­å¿ƒç¯€é»žè½‰ç§»ã€æ¿å¡Šé‡çµ„ï¼‰å¯åæ˜ å¸‚å ´ç‹€æ…‹çš„æ¼”è®Šï¼ˆå¦‚é‡‘èžå±æ©ŸæœŸé–“ä¸åŒè³‡ç”¢é–“ç›¸é—œæ€§é©Ÿå¢žï¼‰ï¼Œç‚ºé¢¨éšªç®¡ç†æä¾›æ—©æœŸä¿¡è™Ÿã€‚</p>
</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="35" data-marpit-scope-prCOmc2r="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="35" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<h6 id="from-raw-financial-data-to-mst">From Raw Financial Data to MST</h6>

<p>Returns --&gt; correlation matrix --&gt; distance --&gt; weight graph --&gt; MST algorithm</p>
<ol>
<li>
<p><strong>Compute Returns</strong>: Convert prices to <strong>log returns</strong> (or simple returns). Returns are stationary and better reflect risk/dependence than raw prices</p>
</li>
<li>
<p>Compute the <strong>Pearson correlation coefficient</strong> between every pair of assets.</p>
</li>
<li>
<p><strong>Transform Correlation into Distance</strong>: Correlation is <strong>not a metric</strong> (doesnâ€™t satisfy triangle inequality), so we convert it to a <strong>distance measure</strong> by the <strong>ultrametric distance</strong> (Mantegna, 1999): $ d_{ij}=\sqrt{2(1-\rho_{ij})}$ , where <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.666ex;" xmlns="http://www.w3.org/2000/svg" width="28.861ex" height="2.236ex" role="img" focusable="false" viewBox="0 -694 12756.8 988.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D70C" d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z"></path></g><g data-mml-node="mo" transform="translate(794.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1850.6,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(2350.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(2795.2,0)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="TeXAtom" transform="translate(553,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(345,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z"></path></g></g></g><g data-mml-node="mo" transform="translate(4211.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(5267.1,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(5767.1,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="mi" transform="translate(6211.7,0)"><path data-c="1D70C" d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z"></path></g><g data-mml-node="mo" transform="translate(7006.5,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(8062.3,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(8840.3,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(9340.3,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(9784.9,0)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="TeXAtom" transform="translate(553,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(345,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z"></path></g></g></g><g data-mml-node="mo" transform="translate(11201,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(12256.8,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></svg></mjx-container>.</p>
</li>
<li>
<p><strong>Build a Complete Weighted Graph</strong>: Treat each asset as a <strong>node</strong>. Connect every pair of nodes with an <strong>edge weighted by</strong> <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.666ex;" xmlns="http://www.w3.org/2000/svg" width="2.575ex" height="2.236ex" role="img" focusable="false" viewBox="0 -694 1138.3 988.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="TeXAtom" transform="translate(553,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(345,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z"></path></g></g></g></g></g></svg></mjx-container>.</p>
</li>
<li>
<p>Apply a standard MST algorithm (e.g., <strong>Kruskalâ€™s</strong> or <strong>Primâ€™s</strong>) to the weighted graph.</p>
</li>
</ol>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="36" data-marpit-scope-Eed8BzbV="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="36" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p><strong>Systemic Risk Identification</strong> <strong>ç³»çµ±æ€§é¢¨éšªè­˜åˆ¥</strong>:</p>

<ul>
<li>
<p>Highly connected or central assets (high <strong>degree</strong> or <strong>eigenvector centrality</strong>) can act as <code>risk conduits</code>. <strong>é«˜åº¦é€£æŽ¥æˆ–è™•æ–¼æ ¸å¿ƒåœ°ä½çš„è³‡ç”¢</strong>ï¼ˆå…·æœ‰è¼ƒé«˜çš„<strong>åº¦ä¸­å¿ƒæ€§</strong>æˆ–<strong>ç‰¹å¾µå‘é‡ä¸­å¿ƒæ€§</strong>ï¼‰å¯èƒ½æˆç‚ºé¢¨éšªå‚³å°Žçš„ç®¡é“</p>
</li>
<li>
<p><strong>Clustering</strong> identifies sectors or asset classes that move together, exposing concentration risk. <strong>èšé¡žåˆ†æž</strong>å¯è­˜åˆ¥å‡ºåƒ¹æ ¼èµ°å‹¢é«˜åº¦ä¸€è‡´çš„è¡Œæ¥­æˆ–è³‡ç”¢é¡žåˆ¥ï¼Œå¾žè€Œæ­ç¤º<strong>é›†ä¸­åº¦é¢¨éšª</strong>ï¼ˆå³é¢¨éšªéŽåº¦é›†ä¸­æ–¼æŸä¸€é¡žè³‡ç”¢æˆ–éƒ¨é–€ï¼‰ã€‚</p>
</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="37" data-marpit-scope-mFMwDZaY="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="37" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p><strong>Stress Testing via Graph Perturbation</strong>: <strong>é€šéŽåœ–æ“¾å‹•é€²è¡Œå£“åŠ›æ¸¬è©¦</strong></p>
<ul>
<li>Simulate shocks (e.g., asset default) and propagate effects through the graph using diffusion models or cascade algorithms. æ¨¡æ“¬è¡æ“Šäº‹ä»¶ï¼ˆä¾‹å¦‚æŸé …è³‡ç”¢é•ç´„ï¼‰ï¼Œä¸¦åˆ©ç”¨<strong>æ“´æ•£æ¨¡åž‹</strong>ï¼ˆdiffusion modelsï¼‰æˆ–<strong>ç´šè¯æ¼”ç®—æ³•</strong>ï¼ˆcascade algorithmsï¼‰åœ¨åœ–ä¸­å‚³æ’­å…¶å½±éŸ¿ï¼Œä»¥è©•ä¼°æ•´å€‹ç³»çµ±åœ¨æ¥µç«¯æƒ…æ™¯ä¸‹çš„è„†å¼±æ€§èˆ‡é¢¨éšªå‚³æŸ“è·¯å¾‘ã€‚</li>
</ul>
<p><strong>Diversification Optimization</strong>: <strong>åˆ†æ•£åŒ–å„ªåŒ–</strong></p>
<ul>
<li>Select assets from weakly connected graph components to minimize co-movement. å¾žåœ–ä¸­<strong>é€£æŽ¥è¼ƒå¼±çš„å­åœ–</strong>ï¼ˆæˆ–å¼±é€£é€šæˆåˆ†ï¼‰ä¸­é¸å–è³‡ç”¢ï¼Œä»¥é™ä½Žè³‡ç”¢é–“çš„<strong>è¯å‹•æ€§</strong>ï¼ˆco-movementï¼‰ï¼Œå¾žè€Œå¢žå¼·æŠ•è³‡çµ„åˆçš„é¢¨éšªåˆ†æ•£æ•ˆæžœã€‚</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="38" data-marpit-scope-be0OGM5E="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="38" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> networkx <span class="hljs-keyword">as</span> nx
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">from</span> scipy.spatial.distance <span class="hljs-keyword">import</span> squareform
<span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> make_spd_matrix

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 1. Simulate Stock Returns</span>
<span class="hljs-comment"># ----------------------------</span>
np.random.seed(<span class="hljs-number">42</span>)
n_assets = <span class="hljs-number">10</span>
n_days = <span class="hljs-number">250</span>

<span class="hljs-comment"># Generate a realistic (positive semi-definite) covariance matrix</span>
cov_matrix = make_spd_matrix(n_assets, random_state=<span class="hljs-number">42</span>)
<span class="hljs-comment"># Simulate daily returns from multivariate normal</span>
returns = np.random.multivariate_normal(mean=np.zeros(n_assets), cov=cov_matrix, size=n_days)

<span class="hljs-comment"># Create a DataFrame with asset labels</span>
assets = [<span class="hljs-string">f&quot;Asset_<span class="hljs-subst">{i}</span>&quot;</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n_assets + <span class="hljs-number">1</span>)]
returns_df = pd.DataFrame(returns, columns=assets)
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="39" data-marpit-scope-PABXo4Xb="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="39" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 2. Compute Correlation Matrix</span>
<span class="hljs-comment"># ----------------------------</span>
corr = returns_df.corr()
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Correlation matrix (top-left 5x5):&quot;</span>)
<span class="hljs-built_in">print</span>(corr.iloc[:<span class="hljs-number">5</span>, :<span class="hljs-number">5</span>].<span class="hljs-built_in">round</span>(<span class="hljs-number">2</span>))

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 3. Build Correlation Network</span>
<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># Convert correlation to distance: d = sqrt(0.5 * (1 - corr))</span>
dist_matrix = np.sqrt(<span class="hljs-number">0.5</span> * (<span class="hljs-number">1</span> - corr))

<span class="hljs-comment"># Create a complete graph with distance as edge weight</span>
G = nx.Graph()
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_assets):
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i + <span class="hljs-number">1</span>, n_assets):
        asset_i = assets[i]
        asset_j = assets[j]
        distance = dist_matrix.iloc[i, j]
        G.add_edge(asset_i, asset_j, weight=distance)

        <span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 4. Extract Minimum Spanning Tree (MST)</span>
<span class="hljs-comment"># ----------------------------</span>
mst = nx.minimum_spanning_tree(G, weight=<span class="hljs-string">&#x27;weight&#x27;</span>)
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="40" data-marpit-scope-exUbdgtZ="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="40" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p><strong>Why Look for High-Degree or High-Betweenness Nodes in an MST?</strong> ç‚ºä»€éº¼åœ¨ MST ä¸­æ‰¾é«˜åº¦æ•¸æˆ–é«˜ä»‹æ•¸ç¯€é»žï¼Ÿ</p>
<p><strong>High Degree Centrality</strong></p>

<ul>
<li>Indicates that the asset is <strong>directly connected to many other assets</strong> in the MST.  è¡¨ç¤ºè©²è³‡ç”¢åœ¨ MST ä¸­ç›´æŽ¥é€£æŽ¥äº†<strong>å¾ˆå¤šå…¶ä»–è³‡ç”¢</strong>ã€‚</li>
<li>Suggests it serves as a <strong>convergence point for multiple relationships</strong>â€”if this asset experiences a shock (e.g., a sharp price drop or default), it could <strong>immediately affect numerous other assets</strong>. èªªæ˜Žå®ƒæ˜¯<strong>å¤šå€‹é—œè¯é—œä¿‚çš„äº¤åŒ¯é»ž</strong>ï¼Œä¸€æ—¦è©²è³‡ç”¢ç™¼ç”Ÿè¡æ“Šï¼ˆå¦‚åƒ¹æ ¼æš´è·Œã€é•ç´„ï¼‰ï¼Œå¯èƒ½<strong>ç›´æŽ¥æ³¢åŠçœ¾å¤šå…¶ä»–è³‡ç”¢</strong>ã€‚</li>
<li>Retaining high connectivity even in the simplified MST implies its <strong>centrality is structural, not due to noise</strong>, underscoring its genuine systemic importanceåœ¨ç²¾ç°¡å¾Œçš„ç¶²è·¯ä¸­ä»æ“æœ‰é«˜åº¦é€£æŽ¥ï¼Œèªªæ˜Žå…¶<strong>æ ¸å¿ƒåœ°ä½ä¸æ˜¯ç”±é›œè¨Šå°Žè‡´çš„</strong>ï¼Œè€Œæ˜¯çµæ§‹æ€§çš„ã€‚</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="41" data-marpit-scope-nNHg968a="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="41" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p><strong>High Betweenness Centrality</strong></p>

<ul>
<li>Means the asset lies on a <strong>large number of shortest paths</strong> (which, in an MST, are the <em>only</em> paths between node pairs). è¡¨ç¤ºè©²è³‡ç”¢ä½æ–¼<strong>å¤§é‡æœ€çŸ­è·¯å¾‘</strong>ï¼ˆåœ¨ MST ä¸­æ˜¯å”¯ä¸€è·¯å¾‘ï¼‰ã€‚</li>
<li>Even if it has few direct neighbors, information or risk transmission between many asset pairs must pass through it.å³ä½¿å®ƒé€£æŽ¥çš„é„°å±…ä¸å¤šï¼Œä½†å¾ˆå¤šè³‡ç”¢ä¹‹é–“çš„è³‡è¨Š/é¢¨éšªå‚³å°Žå¿…é ˆç¶“éŽå®ƒã€‚</li>
<li>Such nodes act as <strong>â€œbridgesâ€ or â€œbottlenecksâ€ in risk propagation</strong>â€”if they fail or become disrupted, they can block, reroute, or amplify systemic risk flows, potentially triggering widespread cascading effectsé€™é¡žç¯€é»žæ˜¯é¢¨éšªå‚³å°Žçš„â€œæ©‹æ¨‘â€æˆ–â€œç“¶é ¸â€**â€”â€” ä¸€æ—¦å¤±æ•ˆï¼Œå¯èƒ½é˜»æ–·æˆ–æ‰­æ›²æ•´å€‹ç³»çµ±çš„é¢¨éšªå‚³æ’­è·¯å¾‘ï¼Œç”šè‡³å¼•ç™¼æ›´å¤§ç¯„åœçš„é€£éŽ–åæ‡‰ã€‚</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="42" data-marpit-scope-3uEdMits="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="42" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 5. Analyze Risk: Centrality in MST</span>
<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># In MST, high degree or betweenness = systemic risk hub</span>
degree_centrality = nx.degree_centrality(mst)
betweenness = nx.betweenness_centrality(mst)

<span class="hljs-comment"># Rank assets by betweenness (most influential in risk propagation)</span>
risk_ranking = <span class="hljs-built_in">sorted</span>(betweenness.items(), key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>], reverse=<span class="hljs-literal">True</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nTop risk-conduit assets (by betweenness centrality in MST):&quot;</span>)
<span class="hljs-keyword">for</span> asset, score <span class="hljs-keyword">in</span> risk_ranking[:<span class="hljs-number">3</span>]:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;  <span class="hljs-subst">{asset}</span>: <span class="hljs-subst">{score:<span class="hljs-number">.3</span>f}</span>&quot;</span>)
    
<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 6. Visualize MST</span>
<span class="hljs-comment"># ----------------------------</span>
plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">6</span>))
pos = nx.spring_layout(mst, seed=<span class="hljs-number">42</span>)

<span class="hljs-comment"># Node size proportional to betweenness</span>
node_sizes = [<span class="hljs-number">5000</span> * betweenness[node] + <span class="hljs-number">300</span> <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> mst.nodes()]

nx.draw(mst, pos,
        with_labels=<span class="hljs-literal">True</span>,
        node_size=node_sizes,
        node_color=<span class="hljs-string">&#x27;lightgreen&#x27;</span>,
        font_size=<span class="hljs-number">9</span>,
        edge_color=<span class="hljs-string">&#x27;gray&#x27;</span>)

plt.title(<span class="hljs-string">&quot;Portfolio Risk Network: Minimum Spanning Tree\n(Node size âˆ risk influence)&quot;</span>)
plt.tight_layout()
plt.show()    
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="43" data-marpit-scope-4jOk4MmZ="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="43" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<h2 id="supply-chain-finance--counterparty-risk">Supply Chain Finance &amp; Counterparty Risk</h2>

<p>In todayâ€™s globalized supply chains, firms are not just independent business entitiesâ€”they are <strong>nodes within a complex supplierâ€“customer network</strong>. åœ¨ç¾ä»£å…¨çƒåŒ–ä¾›æ‡‰éˆä¸­ï¼Œä¼æ¥­ä¸åƒ…æ˜¯ç¨ç«‹çš„ç¶“ç‡Ÿä¸»é«”ï¼Œæ›´æ˜¯è¤‡é›œä¾›æ‡‰ç¶²è·¯ä¸­çš„ä¸€å€‹ç¯€é»žã€‚ When a critical supplier or customer suffers an operational disruption (e.g., bankruptcy, natural disaster, or geopolitical conflict), risk propagates rapidly through transactional relationships, potentially triggering cascading production halts, contract defaults, and financing difficulties. This is precisely the essence of <strong>counterparty risk</strong>. ä¸€æ—¦é—œéµä¾›æ‡‰å•†æˆ–å®¢æˆ¶ç™¼ç”Ÿç¶“ç‡Ÿä¸­æ–·ï¼ˆå¦‚ç ´ç”¢ã€è‡ªç„¶ç½å®³ã€åœ°ç·£è¡çªï¼‰ï¼Œé¢¨éšªæœƒé€šéŽ<strong>äº¤æ˜“é—œä¿‚</strong>è¿…é€Ÿå‚³å°Žï¼Œé€ æˆ<strong>é€£éŽ–åœå·¥ã€è¨‚å–®é•ç´„ã€èžè³‡å›°é›£</strong>ç­‰å¾Œæžœâ€”â€”é€™æ­£æ˜¯<strong>äº¤æ˜“å°æ‰‹é¢¨éšª</strong>ï¼ˆCounterparty Riskï¼‰çš„æ ¸å¿ƒé«”ç¾ã€‚</p>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="44" data-marpit-scope-ovxR3fQ1="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="44" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<p>To enhance supply chain resilience, we can model the supply chain as a <strong>directed supplierâ€“customer network</strong> and apply graph-theoretic tools to identify vulnerabilities, assess shock impacts, and generate optimization recommendations. ç‚ºæå‡ä¾›æ‡‰éˆéŸŒæ€§ï¼Œå¯å°‡ä¾›æ‡‰éˆå»ºæ¨¡ç‚º<strong>ä¾›æ‡‰å•†â€“å®¢æˆ¶ç¶²è·¯</strong>ï¼Œä¸¦å€ŸåŠ©åœ–è«–å·¥å…·è­˜åˆ¥è„†å¼±é»žã€è©•ä¼°è¡æ“Šå½±éŸ¿ï¼Œä¸¦æå‡ºå„ªåŒ–å»ºè­°ã€‚</p>
<ul>
<li>Build a supplierâ€“customer network, <strong>Nodes</strong> = firms (suppliers, manufacturers, distributors, etc.). <strong>Directed edges</strong>: An edge Aâ†’B indicates that firm A supplies goods to firm B (i.e., B depends on A).ç¯€é»žï¼ˆNode = ä¼æ¥­ï¼ˆä¾›æ‡‰å•†ã€è£½é€ å•†ã€åˆ†éŠ·å•†ç­‰ï¼‰, æœ‰å‘é‚Šï¼ˆEdgeï¼‰ A â†’ B = ä¼æ¥­ A å‘ä¼æ¥­ B ä¾›è²¨ï¼ˆB ä¾è³´ Aï¼‰.  <strong>Edge weights (optional)</strong>: transaction value, share of supply, delivery frequency, etc.é‚Šæ¬Šé‡ï¼ˆå¯é¸ï¼‰= äº¤æ˜“é‡‘é¡ã€ä¾›æ‡‰å æ¯”ã€äº¤ä»˜é »çŽ‡ç­‰.</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="45" data-marpit-scope-rGDcupLI="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="45" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<ul>
<li>
<p>In <strong>supply chain finance</strong>, if firm B is a financed client and firm A is its key supplier, then Aâ€™s stability directly affects Bâ€™s ability to fulfill obligationsâ€”thereby influencing the lenderâ€™s credit risk exposure to B. åœ¨ä¾›æ‡‰éˆé‡‘èžä¸­ï¼Œè‹¥ B æ˜¯èžè³‡å®¢æˆ¶ï¼ŒA æ˜¯å…¶é—œéµä¾›æ‡‰å•†ï¼Œå‰‡ A çš„ç©©å®šæ€§ç›´æŽ¥å½±éŸ¿ B çš„å±¥ç´„èƒ½åŠ›ï¼Œé€²è€Œå½±éŸ¿é‡‘èžæ©Ÿæ§‹å° B çš„æŽˆä¿¡é¢¨éšªã€‚</p>
</li>
<li>
<p>Compute <strong>centrality metrics</strong> (PageRank, betweenness) to find critical firms,</p>
<ul>
<li><strong>PageRank</strong>ï¼šMeasures a firmâ€™s overall â€œinfluenceâ€ or â€œlevel of dependencyâ€ in the network è¡¡é‡ä¼æ¥­åœ¨æ•´å€‹ç¶²è·¯ä¸­çš„â€œå½±éŸ¿åŠ›â€æˆ–â€œè¢«ä¾è³´ç¨‹åº¦â€ â†’ <em>High PageRank firms</em> are core suppliers relied upon by many downstream customers. é«˜ PageRank ä¼æ¥­ = è¢«çœ¾å¤šä¸‹æ¸¸å®¢æˆ¶ä¾è³´çš„<strong>æ ¸å¿ƒä¾›æ‡‰å•†</strong></li>
<li><strong>Betweenness Centrality</strong>: Measures whether a firm lies on critical paths between other firms è¡¡é‡ä¼æ¥­æ˜¯å¦è™•æ–¼<strong>é—œéµè·¯å¾‘</strong>ä¸Š â†’ <em>High-betweenness firms</em> act as â€œchoke pointsâ€â€”if disrupted, they can sever multiple supply chains simultaneously é«˜ä»‹æ•¸ä¼æ¥­ = **â€œ**å’½å–‰ç¯€é»žï¼Œä¸€æ—¦ä¸­æ–·å°‡åˆ‡æ–·å¤šæ¢ä¾›æ‡‰éˆ</li>
</ul>
</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="46" data-marpit-scope-q8HC3sxC="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="46" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9">
<ul>
<li>Simulate <strong>supplier disruption impact</strong>,
<ul>
<li>Assume a key supplier suddenly halts production (e.g., due to fire or sanctions). å‡è¨­æŸé—œéµä¾›æ‡‰å•†çªç„¶åœç”¢ï¼ˆå¦‚å› ç«ç½ã€åˆ¶è£ï¼‰ï¼›Assess the immediate production disruption risk for its direct customers. è©•ä¼°å…¶<strong>ç›´æŽ¥å®¢æˆ¶</strong>çš„ç”Ÿç”¢ä¸­æ–·é¢¨éšªï¼›Propagate the shock further to estimate <strong>second- and third-tier effects</strong> (e.g., customers cannot deliver â†’ their customers are also affected). é€²ä¸€æ­¥é¡žæ¯”<strong>äºŒç´šã€ä¸‰ç´šå½±éŸ¿</strong>ï¼ˆå®¢æˆ¶ç„¡æ³•äº¤è²¨ â†’ å®¢æˆ¶çš„å®¢æˆ¶ä¹Ÿå—å½±éŸ¿ï¼‰ï¼›Quantify the resulting <strong>aggregate output loss</strong> or <strong>increase in default probability</strong> across the entire networké‡åŒ–æ•´é«”ç¶²è·¯çš„<strong>ç”¢å‡ºæå¤±</strong>æˆ–<strong>é•ç´„æ¦‚çŽ‡ä¸Šå‡</strong>ã€‚</li>
</ul>
</li>
</ul>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="47" data-marpit-scope-EHbjwtSX="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="47" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-keyword">import</span> networkx <span class="hljs-keyword">as</span> nx
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">from</span> matplotlib.patches <span class="hljs-keyword">import</span> Patch
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 1. Build Dense Supply Network (30 firms)</span>
<span class="hljs-comment"># ----------------------------</span>
np.random.seed(<span class="hljs-number">42</span>)
n_firms = <span class="hljs-number">30</span>
firm_names = [<span class="hljs-string">f&quot;Firm_<span class="hljs-subst">{i}</span>&quot;</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_firms)]

G = nx.DiGraph()
G.add_nodes_from(firm_names)

<span class="hljs-comment"># Increase connectivity to ensure cascade</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_firms):
    num_customers = np.random.randint(<span class="hljs-number">3</span>, <span class="hljs-number">6</span>)  <span class="hljs-comment"># Each firm supplies 3â€“5 others</span>
    candidates = [f <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> firm_names <span class="hljs-keyword">if</span> f != firm_names[i]]
    <span class="hljs-keyword">if</span> candidates:
        customers = np.random.choice(candidates, size=<span class="hljs-built_in">min</span>(num_customers, <span class="hljs-built_in">len</span>(candidates)), replace=<span class="hljs-literal">False</span>)
        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> customers:
            G.add_edge(firm_names[i], c)

<span class="hljs-comment"># Assign daily production capacity (output)</span>
firm_data = {firm: {<span class="hljs-string">&#x27;capacity&#x27;</span>: np.random.uniform(<span class="hljs-number">100</span>, <span class="hljs-number">600</span>)} <span class="hljs-keyword">for</span> firm <span class="hljs-keyword">in</span> firm_names}

<span class="hljs-comment"># Assign supply dependency shares</span>
<span class="hljs-keyword">for</span> customer <span class="hljs-keyword">in</span> firm_names:
    suppliers = <span class="hljs-built_in">list</span>(G.predecessors(customer))
    <span class="hljs-keyword">if</span> suppliers:
        weights = np.random.dirichlet(np.ones(<span class="hljs-built_in">len</span>(suppliers)) * <span class="hljs-number">1.5</span>)
        <span class="hljs-keyword">for</span> i, supplier <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(suppliers):
            G[supplier][customer][<span class="hljs-string">&#x27;supply_share&#x27;</span>] = weights[i]

<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Network: <span class="hljs-subst">{G.number_of_nodes()}</span> firms, <span class="hljs-subst">{G.number_of_edges()}</span> supply links&quot;</span>)

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 2. Compute Centrality &amp; Choose Disruption Target</span>
<span class="hljs-comment"># ----------------------------</span>
pagerank = nx.pagerank(G, weight=<span class="hljs-string">&#x27;supply_share&#x27;</span>, alpha=<span class="hljs-number">0.85</span>)
G_undir = G.to_undirected()
betweenness = nx.betweenness_centrality(G_undir, weight=<span class="hljs-string">&#x27;supply_share&#x27;</span>)

<span class="hljs-comment"># Pick firm with highest combined centrality</span>
combined_score = {f: pagerank[f] + betweenness[f] <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> firm_names}
disrupted_firm = <span class="hljs-built_in">max</span>(combined_score, key=combined_score.get)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;\n Disrupting: <span class="hljs-subst">{disrupted_firm}</span>&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;   PageRank: <span class="hljs-subst">{pagerank[disrupted_firm]:<span class="hljs-number">.4</span>f}</span> | Betweenness: <span class="hljs-subst">{betweenness[disrupted_firm]:<span class="hljs-number">.4</span>f}</span>&quot;</span>)

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 3. Simulate Disruption Cascade</span>
<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">simulate_disruption_cascade</span>(<span class="hljs-params">G, firm_data, disrupted_firm, threshold=<span class="hljs-number">0.45</span>, max_tiers=<span class="hljs-number">4</span></span>):
    status = {f: <span class="hljs-string">&#x27;operational&#x27;</span> <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> firm_names}
    status[disrupted_firm] = <span class="hljs-string">&#x27;disrupted&#x27;</span>
    affected_by_tier = {<span class="hljs-number">0</span>: {disrupted_firm}}
    newly_disrupted = {disrupted_firm}

    <span class="hljs-keyword">for</span> tier <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, max_tiers + <span class="hljs-number">1</span>):
        next_disrupted = <span class="hljs-built_in">set</span>()
        <span class="hljs-keyword">for</span> firm <span class="hljs-keyword">in</span> newly_disrupted:
            <span class="hljs-keyword">for</span> customer <span class="hljs-keyword">in</span> G.successors(firm):
                <span class="hljs-keyword">if</span> status[customer] != <span class="hljs-string">&#x27;operational&#x27;</span>:
                    <span class="hljs-keyword">continue</span>
                total_loss = <span class="hljs-built_in">sum</span>(
                    G[sup][customer].get(<span class="hljs-string">&#x27;supply_share&#x27;</span>, <span class="hljs-number">0</span>)
                    <span class="hljs-keyword">for</span> sup <span class="hljs-keyword">in</span> G.predecessors(customer)
                    <span class="hljs-keyword">if</span> status[sup] == <span class="hljs-string">&#x27;disrupted&#x27;</span>
                )
                <span class="hljs-keyword">if</span> total_loss &gt;= threshold:
                    status[customer] = <span class="hljs-string">&#x27;disrupted&#x27;</span>
                    next_disrupted.add(customer)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> next_disrupted:
            <span class="hljs-keyword">break</span>
        affected_by_tier[tier] = next_disrupted
        newly_disrupted = next_disrupted

    total_output_loss = <span class="hljs-built_in">sum</span>(firm_data[f][<span class="hljs-string">&#x27;capacity&#x27;</span>] <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> firm_names <span class="hljs-keyword">if</span> status[f] == <span class="hljs-string">&#x27;disrupted&#x27;</span>)
    default_count = <span class="hljs-built_in">sum</span>(<span class="hljs-number">1</span> <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> status.values() <span class="hljs-keyword">if</span> s == <span class="hljs-string">&#x27;disrupted&#x27;</span>)
    <span class="hljs-keyword">return</span> affected_by_tier, total_output_loss, default_count, status

affected, total_loss, num_disrupted, final_status = simulate_disruption_cascade(
    G, firm_data, disrupted_firm, threshold=<span class="hljs-number">0.45</span>, max_tiers=<span class="hljs-number">4</span>
)

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 4. Print Detailed Disruption Report</span>
<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&quot;</span> + <span class="hljs-string">&quot;=&quot;</span>*<span class="hljs-number">60</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; DISRUPTION IMPACT REPORT&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;=&quot;</span>*<span class="hljs-number">60</span>)

<span class="hljs-comment"># List all disrupted firms with their output loss</span>
disrupted_list = []
<span class="hljs-keyword">for</span> firm <span class="hljs-keyword">in</span> firm_names:
    <span class="hljs-keyword">if</span> final_status[firm] == <span class="hljs-string">&#x27;disrupted&#x27;</span>:
        loss = firm_data[firm][<span class="hljs-string">&#x27;capacity&#x27;</span>]
        tier = <span class="hljs-built_in">next</span>((t <span class="hljs-keyword">for</span> t, firms <span class="hljs-keyword">in</span> affected.items() <span class="hljs-keyword">if</span> firm <span class="hljs-keyword">in</span> firms), <span class="hljs-literal">None</span>)
        disrupted_list.append({
            <span class="hljs-string">&#x27;Firm&#x27;</span>: firm,
            <span class="hljs-string">&#x27;Tier&#x27;</span>: tier,
            <span class="hljs-string">&#x27;Daily Output Loss&#x27;</span>: loss
        })

<span class="hljs-comment"># Create DataFrame for clean display</span>
df = pd.DataFrame(disrupted_list)
df = df.sort_values([<span class="hljs-string">&#x27;Tier&#x27;</span>, <span class="hljs-string">&#x27;Daily Output Loss&#x27;</span>], ascending=[<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>])

<span class="hljs-built_in">print</span>(df.to_string(index=<span class="hljs-literal">False</span>, float_format=<span class="hljs-string">&quot;{:.1f}&quot;</span>.<span class="hljs-built_in">format</span>))

<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;\n TOTAL SYSTEM IMPACT:&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;   â€¢ Disrupted firms: <span class="hljs-subst">{num_disrupted}</span> / <span class="hljs-subst">{n_firms}</span> (<span class="hljs-subst">{<span class="hljs-number">100</span> * num_disrupted / n_firms:<span class="hljs-number">.1</span>f}</span>%)&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;   â€¢ Total daily output loss: <span class="hljs-subst">{total_loss:<span class="hljs-number">.1</span>f}</span> units&quot;</span>)
total_capacity = <span class="hljs-built_in">sum</span>(f[<span class="hljs-string">&#x27;capacity&#x27;</span>] <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> firm_data.values())
<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;   â€¢ System-wide capacity loss: <span class="hljs-subst">{<span class="hljs-number">100</span> * total_loss / total_capacity:<span class="hljs-number">.1</span>f}</span>%&quot;</span>)

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 5. Visualization</span>
<span class="hljs-comment"># ----------------------------</span>
pos = nx.spring_layout(G, seed=<span class="hljs-number">42</span>, k=<span class="hljs-number">2.5</span>, iterations=<span class="hljs-number">100</span>)

<span class="hljs-comment"># Safe max_tier to avoid division by zero</span>
max_tier = <span class="hljs-built_in">max</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">max</span>(affected.keys()))

tier_color_map = {}
<span class="hljs-keyword">for</span> tier, firms <span class="hljs-keyword">in</span> affected.items():
    color = plt.cm.plasma(tier / max_tier)
    <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> firms:
        tier_color_map[f] = color

node_colors = [tier_color_map.get(node, (<span class="hljs-number">0.85</span>, <span class="hljs-number">0.85</span>, <span class="hljs-number">0.85</span>, <span class="hljs-number">1.0</span>)) <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> G.nodes()]
node_sizes = [<span class="hljs-number">200</span> + <span class="hljs-number">3</span> * firm_data[node][<span class="hljs-string">&#x27;capacity&#x27;</span>] / <span class="hljs-number">10</span> <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> G.nodes()]

plt.figure(figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">10</span>))

nx.draw_networkx_edges(G, pos, edge_color=<span class="hljs-string">&#x27;lightgray&#x27;</span>, arrows=<span class="hljs-literal">True</span>, arrowsize=<span class="hljs-number">10</span>, width=<span class="hljs-number">0.8</span>, alpha=<span class="hljs-number">0.7</span>)
nx.draw_networkx_nodes(G, pos, node_color=node_colors, node_size=node_sizes, alpha=<span class="hljs-number">0.95</span>)

<span class="hljs-comment"># Label ALL disrupted firms</span>
disrupted_nodes = [n <span class="hljs-keyword">for</span> n, s <span class="hljs-keyword">in</span> final_status.items() <span class="hljs-keyword">if</span> s == <span class="hljs-string">&#x27;disrupted&#x27;</span>]
nx.draw_networkx_labels(G, pos, labels={n: n <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> disrupted_nodes}, font_size=<span class="hljs-number">9</span>, font_weight=<span class="hljs-string">&#x27;bold&#x27;</span>)

<span class="hljs-comment"># Legend</span>
legend_elements = [
    Patch(facecolor=plt.cm.plasma(t / max_tier), label=<span class="hljs-string">f&#x27;Tier <span class="hljs-subst">{t}</span> (n=<span class="hljs-subst">{<span class="hljs-built_in">len</span>(affected[t])}</span>)&#x27;</span>)
    <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> <span class="hljs-built_in">sorted</span>(affected.keys())
]
legend_elements.append(Patch(facecolor=(<span class="hljs-number">0.85</span>, <span class="hljs-number">0.85</span>, <span class="hljs-number">0.85</span>), label=<span class="hljs-string">&#x27;Unaffected&#x27;</span>))
plt.legend(handles=legend_elements, loc=<span class="hljs-string">&#x27;upper right&#x27;</span>, title=<span class="hljs-string">&quot;Disruption Tier&quot;</span>)

plt.title(
    <span class="hljs-string">f&quot;Supply Chain Disruption: <span class="hljs-subst">{disrupted_firm}</span> Failed\n&quot;</span>
    <span class="hljs-string">f&quot;<span class="hljs-subst">{num_disrupted}</span>/<span class="hljs-subst">{n_firms}</span> firms disrupted | <span class="hljs-subst">{<span class="hljs-number">100</span> * total_loss / total_capacity:<span class="hljs-number">.1</span>f}</span>% output loss&quot;</span>,
    fontsize=<span class="hljs-number">14</span>, pad=<span class="hljs-number">20</span>
)
plt.axis(<span class="hljs-string">&#x27;off&#x27;</span>)
plt.tight_layout()
plt.show()
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="48" data-marpit-scope-NIrpMalE="" data-color="#000" data-background-color="#fef9e7" data-background-image="url('images/background_1.JPG')" data-footer="Designed by Wen-Bin 2026-02-05" data-paginate="true" data-theme="gaia" lang="zh-TW" data-marpit-pagination="48" style="--color:#000;--background-color:#fef9e7;--background-image:url('images/background_1.JPG');--footer:Designed by Wen-Bin 2026-02-05;--paginate:true;--theme:gaia;color:#000;background-color:#fef9e7;background-image:url('images/background_1.JPG');background-position:center;background-repeat:no-repeat;background-size:cover;" data-marpit-pagination-total="48" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-py"><span class="hljs-keyword">import</span> networkx <span class="hljs-keyword">as</span> nx
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 1. Build a Larger, Layered Supply Chain Network</span>
<span class="hljs-comment"># ----------------------------</span>
G = nx.DiGraph()

<span class="hljs-comment"># Define layers</span>
suppliers = [<span class="hljs-string">f&quot;Supplier_<span class="hljs-subst">{i}</span>&quot;</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>)]          <span class="hljs-comment"># 5 suppliers</span>
manufacturers = [<span class="hljs-string">f&quot;Manufacturer_<span class="hljs-subst">{i}</span>&quot;</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)]   <span class="hljs-comment"># 4 manufacturers</span>
distributors = [<span class="hljs-string">f&quot;Distributor_<span class="hljs-subst">{i}</span>&quot;</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>)]     <span class="hljs-comment"># 3 distributors</span>
retailers = [<span class="hljs-string">f&quot;Retailer_<span class="hljs-subst">{i}</span>&quot;</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>)]          <span class="hljs-comment"># 5 retailers</span>

<span class="hljs-comment"># Add all nodes</span>
all_nodes = suppliers + manufacturers + distributors + retailers
G.add_nodes_from(all_nodes)

<span class="hljs-comment"># Connect suppliers â†’ manufacturers (each manufacturer uses 2â€“3 suppliers)</span>
<span class="hljs-keyword">import</span> random
random.seed(<span class="hljs-number">42</span>)
<span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> manufacturers:
    chosen_suppliers = random.sample(suppliers, k=random.randint(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))
    <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> chosen_suppliers:
        G.add_edge(s, m)

<span class="hljs-comment"># Connect manufacturers â†’ distributors (each distributor gets from 2â€“3 manufacturers)</span>
<span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> distributors:
    chosen_manufacturers = random.sample(manufacturers, k=random.randint(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))
    <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> chosen_manufacturers:
        G.add_edge(m, d)

<span class="hljs-comment"># Connect distributors â†’ retailers (each retailer served by 1â€“2 distributors)</span>
<span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> retailers:
    chosen_distributors = random.sample(distributors, k=random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>))
    <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> chosen_distributors:
        G.add_edge(d, r)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Network: <span class="hljs-subst">{G.number_of_nodes()}</span> nodes, <span class="hljs-subst">{G.number_of_edges()}</span> edges&quot;</span>)

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 2. Compute Centrality Metrics</span>
<span class="hljs-comment"># ----------------------------</span>
pagerank = nx.pagerank(G, alpha=<span class="hljs-number">0.85</span>)
betweenness = nx.betweenness_centrality(G.to_undirected())

<span class="hljs-comment"># Combine scores to find most critical node</span>
combined_scores = {node: pagerank[node] + betweenness[node] <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> G.nodes()}
most_critical = <span class="hljs-built_in">max</span>(combined_scores, key=combined_scores.get)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;\nMost critical node: <span class="hljs-subst">{most_critical}</span>&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;  PageRank: <span class="hljs-subst">{pagerank[most_critical]:<span class="hljs-number">.4</span>f}</span>&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;  Betweenness: <span class="hljs-subst">{betweenness[most_critical]:<span class="hljs-number">.4</span>f}</span>&quot;</span>)

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 3. Simulate Disruption</span>
<span class="hljs-comment"># ----------------------------</span>
G_disrupted = G.copy()
G_disrupted.remove_node(most_critical)

<span class="hljs-comment"># Count customers who lost ALL their suppliers (in-degree = 0) after disruption</span>
orphaned_after = [
    n <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> G_disrupted.nodes()
    <span class="hljs-keyword">if</span> G_disrupted.in_degree(n) == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> n != most_critical
]

<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;\nAfter removing <span class="hljs-subst">{most_critical}</span>:&quot;</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;  Orphaned nodes (no incoming supply): <span class="hljs-subst">{<span class="hljs-built_in">len</span>(orphaned_after)}</span>&quot;</span>)
<span class="hljs-keyword">if</span> orphaned_after:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;  Affected nodes:&quot;</span>, <span class="hljs-string">&quot;, &quot;</span>.join(orphaned_after))

<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># 4. Visualization</span>
<span class="hljs-comment"># ----------------------------</span>
<span class="hljs-comment"># Assign positions by layer for clarity</span>
<span class="hljs-comment"># Assign positions by layer for clarity</span>
pos = {}
layer_spacing = <span class="hljs-number">3</span>

<span class="hljs-comment"># Each entry: (list_of_nodes, y_level)</span>
layers = [
    (suppliers, <span class="hljs-number">0</span>),
    (manufacturers, <span class="hljs-number">1</span>),
    (distributors, <span class="hljs-number">2</span>),
    (retailers, <span class="hljs-number">3</span>)
]

<span class="hljs-keyword">for</span> node_list, y_level <span class="hljs-keyword">in</span> layers:
    n = <span class="hljs-built_in">len</span>(node_list)
    <span class="hljs-comment"># Center the group horizontally</span>
    x_positions = [i * layer_spacing <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]
    x_center = (n - <span class="hljs-number">1</span>) * layer_spacing / <span class="hljs-number">2</span>
    <span class="hljs-keyword">for</span> i, node <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(node_list):
        pos[node] = (x_positions[i] - x_center, y_level)
        
<span class="hljs-comment"># --- Plot Original vs Disrupted ---</span>
plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">8</span>))

<span class="hljs-comment"># Original Network</span>
plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)
node_colors_orig = [<span class="hljs-string">&#x27;red&#x27;</span> <span class="hljs-keyword">if</span> node == most_critical <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;lightblue&#x27;</span> <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> G.nodes()]
nx.draw(
    G, pos,
    node_color=node_colors_orig,
    node_size=<span class="hljs-number">900</span>,
    with_labels=<span class="hljs-literal">True</span>,
    font_size=<span class="hljs-number">8</span>,
    font_weight=<span class="hljs-string">&#x27;bold&#x27;</span>,
    arrows=<span class="hljs-literal">True</span>,
    arrowsize=<span class="hljs-number">12</span>,
    edge_color=<span class="hljs-string">&#x27;gray&#x27;</span>,
    width=<span class="hljs-number">1.0</span>
)
plt.title(<span class="hljs-string">f&quot;Original Supply Chain\n(Red = Most Critical: <span class="hljs-subst">{most_critical}</span>)&quot;</span>)

<span class="hljs-comment"># Disrupted Network</span>
plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)
<span class="hljs-comment"># Reuse same positions (skip missing node)</span>
pos_disrupted = {n: pos[n] <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> G_disrupted.nodes()}

node_colors_disrupted = []
<span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> G_disrupted.nodes():
    <span class="hljs-keyword">if</span> node <span class="hljs-keyword">in</span> orphaned_after:
        node_colors_disrupted.append(<span class="hljs-string">&#x27;orange&#x27;</span>)      <span class="hljs-comment"># lost all supply</span>
    <span class="hljs-keyword">elif</span> G_disrupted.out_degree(node) == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> G_disrupted.in_degree(node) &gt; <span class="hljs-number">0</span>:
        node_colors_disrupted.append(<span class="hljs-string">&#x27;lightgreen&#x27;</span>)  <span class="hljs-comment"># end customer (retailer)</span>
    <span class="hljs-keyword">else</span>:
        node_colors_disrupted.append(<span class="hljs-string">&#x27;lightblue&#x27;</span>)

nx.draw(
    G_disrupted, pos_disrupted,
    node_color=node_colors_disrupted,
    node_size=<span class="hljs-number">900</span>,
    with_labels=<span class="hljs-literal">True</span>,
    font_size=<span class="hljs-number">8</span>,
    font_weight=<span class="hljs-string">&#x27;bold&#x27;</span>,
    arrows=<span class="hljs-literal">True</span>,
    arrowsize=<span class="hljs-number">12</span>,
    edge_color=<span class="hljs-string">&#x27;gray&#x27;</span>,
    width=<span class="hljs-number">1.0</span>
)

<span class="hljs-comment"># Add legend manually</span>
<span class="hljs-keyword">from</span> matplotlib.patches <span class="hljs-keyword">import</span> Patch
legend_elements = [
    Patch(facecolor=<span class="hljs-string">&#x27;red&#x27;</span>, label=<span class="hljs-string">&#x27;Removed Node&#x27;</span>),
    Patch(facecolor=<span class="hljs-string">&#x27;orange&#x27;</span>, label=<span class="hljs-string">&#x27;Orphaned (No Input)&#x27;</span>),
    Patch(facecolor=<span class="hljs-string">&#x27;lightgreen&#x27;</span>, label=<span class="hljs-string">&#x27;End Customer&#x27;</span>),
    Patch(facecolor=<span class="hljs-string">&#x27;lightblue&#x27;</span>, label=<span class="hljs-string">&#x27;Operational&#x27;</span>)
]
plt.legend(handles=legend_elements, loc=<span class="hljs-string">&#x27;upper right&#x27;</span>)

plt.title(<span class="hljs-string">f&quot;After Removing <span class="hljs-subst">{most_critical}</span>\n(Orange = Orphaned Nodes)&quot;</span>)
plt.tight_layout()
plt.show()
</code></pre>
<footer>Designed by Wen-Bin 2026-02-05</footer>
</section>
<script>!function(){"use strict";const t={h1:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"1"},style:"display: block; font-size: 2em; margin-block-start: 0.67em; margin-block-end: 0.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h2:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"2"},style:"display: block; font-size: 1.5em; margin-block-start: 0.83em; margin-block-end: 0.83em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h3:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"3"},style:"display: block; font-size: 1.17em; margin-block-start: 1em; margin-block-end: 1em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h4:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"4"},style:"display: block; margin-block-start: 1.33em; margin-block-end: 1.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h5:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"5"},style:"display: block; font-size: 0.83em; margin-block-start: 1.67em; margin-block-end: 1.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h6:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"6"},style:"display: block; font-size: 0.67em; margin-block-start: 2.33em; margin-block-end: 2.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},span:{proto:()=>HTMLSpanElement},pre:{proto:()=>HTMLElement,style:"display: block; font-family: monospace; white-space: pre; margin: 1em 0; --marp-auto-scaling-white-space: pre;"}},e="data-marp-auto-scaling-wrapper",i="data-marp-auto-scaling-svg",n="data-marp-auto-scaling-container";class s extends HTMLElement{container;containerSize;containerObserver;svg;svgComputedStyle;svgPreserveAspectRatio="xMinYMid meet";wrapper;wrapperSize;wrapperObserver;constructor(){super();const t=t=>([e])=>{const{width:i,height:n}=e.contentRect;this[t]={width:i,height:n},this.updateSVGRect()};this.attachShadow({mode:"open"}),this.containerObserver=new ResizeObserver(t("containerSize")),this.wrapperObserver=new ResizeObserver(((...e)=>{t("wrapperSize")(...e),this.flushSvgDisplay()}))}static get observedAttributes(){return["data-downscale-only"]}connectedCallback(){this.shadowRoot.innerHTML=`\n<style>\n  svg[${i}] { display: block; width: 100%; height: auto; vertical-align: top; }\n  span[${n}] { display: table; white-space: var(--marp-auto-scaling-white-space, nowrap); width: max-content; }\n</style>\n<div ${e}>\n  <svg part="svg" ${i}>\n    <foreignObject><span ${n}><slot></slot></span></foreignObject>\n  </svg>\n</div>\n    `.split(/\n\s*/).join(""),this.wrapper=this.shadowRoot.querySelector(`div[${e}]`)??void 0;const t=this.svg;this.svg=this.wrapper?.querySelector(`svg[${i}]`)??void 0,this.svg!==t&&(this.svgComputedStyle=this.svg?window.getComputedStyle(this.svg):void 0),this.container=this.svg?.querySelector(`span[${n}]`)??void 0,this.observe()}disconnectedCallback(){this.svg=void 0,this.svgComputedStyle=void 0,this.wrapper=void 0,this.container=void 0,this.observe()}attributeChangedCallback(){this.observe()}flushSvgDisplay(){const{svg:t}=this;t&&(t.style.display="inline",requestAnimationFrame((()=>{t.style.display=""})))}observe(){this.containerObserver.disconnect(),this.wrapperObserver.disconnect(),this.wrapper&&this.wrapperObserver.observe(this.wrapper),this.container&&this.containerObserver.observe(this.container),this.svgComputedStyle&&this.observeSVGStyle(this.svgComputedStyle)}observeSVGStyle(t){const e=()=>{const i=(()=>{const e=t.getPropertyValue("--preserve-aspect-ratio");if(e)return e.trim();return`x${(({textAlign:t,direction:e})=>{if(t.endsWith("left"))return"Min";if(t.endsWith("right"))return"Max";if("start"===t||"end"===t){let i="rtl"===e;return"end"===t&&(i=!i),i?"Max":"Min"}return"Mid"})(t)}YMid meet`})();i!==this.svgPreserveAspectRatio&&(this.svgPreserveAspectRatio=i,this.updateSVGRect()),t===this.svgComputedStyle&&requestAnimationFrame(e)};e()}updateSVGRect(){let t=Math.ceil(this.containerSize?.width??0);const e=Math.ceil(this.containerSize?.height??0);void 0!==this.dataset.downscaleOnly&&(t=Math.max(t,this.wrapperSize?.width??0));const i=this.svg?.querySelector(":scope > foreignObject");if(i?.setAttribute("width",`${t}`),i?.setAttribute("height",`${e}`),this.svg&&(this.svg.setAttribute("viewBox",`0 0 ${t} ${e}`),this.svg.setAttribute("preserveAspectRatio",this.svgPreserveAspectRatio),this.svg.style.height=t<=0||e<=0?"0":""),this.container){const t=this.svgPreserveAspectRatio.toLowerCase();this.container.style.marginLeft=t.startsWith("xmid")||t.startsWith("xmax")?"auto":"0",this.container.style.marginRight=t.startsWith("xmi")?"auto":"0"}}}const r=(t,{attrs:e={},style:i})=>class extends t{constructor(...t){super(...t);for(const[t,i]of Object.entries(e))this.hasAttribute(t)||this.setAttribute(t,i);this._shadow()}static get observedAttributes(){return["data-auto-scaling"]}connectedCallback(){this._update()}attributeChangedCallback(){this._update()}_shadow(){if(!this.shadowRoot)try{this.attachShadow({mode:"open"})}catch(t){if(!(t instanceof Error&&"NotSupportedError"===t.name))throw t}return this.shadowRoot}_update(){const t=this._shadow();if(t){const e=i?`<style>:host { ${i} }</style>`:"";let n="<slot></slot>";const{autoScaling:s}=this.dataset;if(void 0!==s){n=`<marp-auto-scaling exportparts="svg:auto-scaling" ${"downscale-only"===s?"data-downscale-only":""}>${n}</marp-auto-scaling>`}t.innerHTML=e+n}}};let o;const a=Symbol();let l;const c="marpitSVGPolyfill:setZoomFactor,",d=Symbol(),h=Symbol();const g=()=>{const t="Apple Computer, Inc."===navigator.vendor,e=t?[u]:[],i={then:e=>(t?(async()=>{if(void 0===l){const t=document.createElement("canvas");t.width=10,t.height=10;const e=t.getContext("2d"),i=new Image(10,10),n=new Promise((t=>{i.addEventListener("load",(()=>t()))}));i.crossOrigin="anonymous",i.src="data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%2210%22%20viewBox%3D%220%200%201%201%22%3E%3CforeignObject%20width%3D%221%22%20height%3D%221%22%20requiredExtensions%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%3E%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22width%3A%201px%3B%20height%3A%201px%3B%20background%3A%20red%3B%20position%3A%20relative%22%3E%3C%2Fdiv%3E%3C%2FforeignObject%3E%3C%2Fsvg%3E",await n,e.drawImage(i,0,0),l=e.getImageData(5,5,1,1).data[3]<128}return l})().then((t=>{null==e||e(t?[u]:[])})):null==e||e([]),i)};return Object.assign(e,i)};let p,m;function u(t){const e="object"==typeof t&&t.target||document,i="object"==typeof t?t.zoom:t;window[h]||(Object.defineProperty(window,h,{configurable:!0,value:!0}),document.body.style.zoom=1.0001,document.body.offsetHeight,document.body.style.zoom=1,window.addEventListener("message",(({data:t,origin:e})=>{if(e===window.origin)try{if(t&&"string"==typeof t&&t.startsWith(c)){const[,e]=t.split(","),i=Number.parseFloat(e);Number.isNaN(i)||(m=i)}}catch(t){console.error(t)}})));let n=!1;Array.from(e.querySelectorAll("svg[data-marpit-svg]"),(t=>{var e,s,r,o;t.style.transform||(t.style.transform="translateZ(0)");const a=i||m||t.currentScale||1;p!==a&&(p=a,n=a);const l=t.getBoundingClientRect(),{length:c}=t.children;for(let i=0;i<c;i+=1){const n=t.children[i];if(n.getScreenCTM){const t=n.getScreenCTM();if(t){const i=null!==(s=null===(e=n.x)||void 0===e?void 0:e.baseVal.value)&&void 0!==s?s:0,c=null!==(o=null===(r=n.y)||void 0===r?void 0:r.baseVal.value)&&void 0!==o?o:0,d=n.children.length;for(let e=0;e<d;e+=1){const s=n.children[e];if("SECTION"===s.tagName){const{style:e}=s;e.transformOrigin||(e.transformOrigin=`${-i}px ${-c}px`),e.transform=`scale(${a}) matrix(${t.a}, ${t.b}, ${t.c}, ${t.d}, ${t.e-l.left}, ${t.f-l.top}) translateZ(0.0001px)`;break}}}}}})),!1!==n&&Array.from(e.querySelectorAll("iframe"),(({contentWindow:t})=>{null==t||t.postMessage(`${c}${n}`,"null"===window.origin?"*":window.origin)}))}function v({once:t=!1,target:e=document}={}){const i=function(t=document){if(t[d])return t[d];let e=!0;const i=()=>{e=!1,delete t[d]};Object.defineProperty(t,d,{configurable:!0,value:i});let n=[],s=!1;(async()=>{try{n=await g()}finally{s=!0}})();const r=()=>{for(const e of n)e({target:t});s&&0===n.length||e&&window.requestAnimationFrame(r)};return r(),i}(e);return t?(i(),()=>{}):i}p=1,m=void 0;const w=Symbol(),b=(e=document)=>{if("undefined"==typeof window)throw new Error("Marp Core's browser script is valid only in browser context.");if(((e=document)=>{const i=window[a];i||customElements.define("marp-auto-scaling",s);for(const n of Object.keys(t)){const s=`marp-${n}`,a=t[n].proto();(o??(o=!!document.createElement("div",{is:"marp-auto-scaling"}).outerHTML.startsWith("<div is"),o))&&a!==HTMLElement?i||customElements.define(s,r(a,{style:t[n].style}),{extends:n}):(i||customElements.define(s,r(HTMLElement,t[n])),e.querySelectorAll(`${n}[is="${s}"]`).forEach((t=>{t.outerHTML=t.outerHTML.replace(new RegExp(`^<${n}`,"i"),`<${s}`).replace(new RegExp(`</${n}>$`,"i"),`</${s}>`)})))}window[a]=!0})(e),e[w])return e[w];const i=v({target:e}),n=()=>{i(),delete e[w]},l=Object.assign(n,{cleanup:n,update:()=>b(e)});return Object.defineProperty(e,w,{configurable:!0,value:l}),l},y=document.currentScript;b(y?y.getRootNode():document)}();
</script></foreignObject></svg></div><script>/*!! License: https://unpkg.com/@marp-team/marp-cli@4.2.2/lib/bespoke.js.LICENSE.txt */
!function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t,n,r=(n||(n=1,t={from:function(e,t){var n,r=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),o=[].filter.call("string"==typeof e.slides?r.querySelectorAll(e.slides):e.slides||r.children,function(e){return"SCRIPT"!==e.nodeName}),a={},i=function(e,t){return(t=t||{}).index=o.indexOf(e),t.slide=e,t},s=function(e,t){a[e]=(a[e]||[]).filter(function(e){return e!==t})},c=function(e,t){return(a[e]||[]).reduce(function(e,n){return e&&!1!==n(t)},!0)},l=function(e,t){o[e]&&(n&&c("deactivate",i(n,t)),n=o[e],c("activate",i(n,t)))},d=function(e,t){var r=o.indexOf(n)+e;c(e>0?"next":"prev",i(n,t))&&l(r,t)},u={off:s,on:function(e,t){return(a[e]||(a[e]=[])).push(t),s.bind(null,e,t)},fire:c,slide:function(e,t){if(!arguments.length)return o.indexOf(n);c("slide",i(o[e],t))&&l(e,t)},next:d.bind(null,1),prev:d.bind(null,-1),parent:r,slides:o,destroy:function(e){c("destroy",i(n,e)),a={}}};return(t||[]).forEach(function(e){e(u)}),n||l(0),u}}),t),o=e(r);const a=document.body,i=(...e)=>history.replaceState(...e),s="",c="presenter",l="next",d=["",c,l],u="bespoke-marp-",f=`data-${u}`,m=(e,{protocol:t,host:n,pathname:r,hash:o}=location)=>{const a=e.toString();return`${t}//${n}${r}${a?"?":""}${a}${o}`},g=()=>a.dataset.bespokeView,p=e=>new URLSearchParams(location.search).get(e),v=(e,t={})=>{const n={location,setter:i,...t},r=new URLSearchParams(n.location.search);for(const t of Object.keys(e)){const n=e[t];"string"==typeof n?r.set(t,n):r.delete(t)}try{n.setter({...window.history.state??{}},"",m(r,n.location))}catch(e){console.error(e)}},h=(()=>{const e="bespoke-marp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}})(),y=e=>{try{return localStorage.getItem(e)}catch{return null}},b=(e,t)=>{try{return localStorage.setItem(e,t),!0}catch{return!1}},w=e=>{try{return localStorage.removeItem(e),!0}catch{return!1}},x=(e,t)=>{const n="aria-hidden";t?e.setAttribute(n,"true"):e.removeAttribute(n)},k=e=>{e.parent.classList.add(`${u}parent`),e.slides.forEach(e=>e.classList.add(`${u}slide`)),e.on("activate",t=>{const n=`${u}active`,r=t.slide,o=r.classList,a=!o.contains(n);if(e.slides.forEach(e=>{e.classList.remove(n),x(e,!0)}),o.add(n),x(r,!1),a){const e=`${n}-ready`;o.add(e),document.body.clientHeight,o.remove(e)}})},$=e=>{let t=0,n=0;Object.defineProperty(e,"fragments",{enumerable:!0,value:e.slides.map(e=>[null,...e.querySelectorAll("[data-marpit-fragment]")])});const r=r=>void 0!==e.fragments[t][n+r],o=(r,o)=>{t=r,n=o,e.fragments.forEach((e,t)=>{e.forEach((e,n)=>{if(null==e)return;const a=t<r||t===r&&n<=o;e.setAttribute(`${f}fragment`,(a?"":"in")+"active");const i=`${f}current-fragment`;t===r&&n===o?e.setAttribute(i,"current"):e.removeAttribute(i)})}),e.fragmentIndex=o;const a={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:o};e.fire("fragment",a)};e.on("next",({fragment:a=!0})=>{if(a){if(r(1))return o(t,n+1),!1;const a=t+1;e.fragments[a]&&o(a,0)}else{const r=e.fragments[t].length;if(n+1<r)return o(t,r-1),!1;const a=e.fragments[t+1];a&&o(t+1,a.length-1)}}),e.on("prev",({fragment:a=!0})=>{if(r(-1)&&a)return o(t,n-1),!1;const i=t-1;e.fragments[i]&&o(i,e.fragments[i].length-1)}),e.on("slide",({index:t,fragment:n})=>{let r=0;if(void 0!==n){const o=e.fragments[t];if(o){const{length:e}=o;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}o(t,r)}),o(0,0)},E=document,L=()=>!(!E.fullscreenEnabled&&!E.webkitFullscreenEnabled),S=()=>!(!E.fullscreenElement&&!E.webkitFullscreenElement),P=e=>{e.fullscreen=()=>{L()&&(async()=>{S()?(E.exitFullscreen||E.webkitExitFullscreen)?.call(E):((e=E.body)=>{(e.requestFullscreen||e.webkitRequestFullscreen)?.call(e)})()})()},document.addEventListener("keydown",t=>{"f"!==t.key&&"F11"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!L()||(e.fullscreen(),t.preventDefault())})},_=`${u}inactive`,T=(e=2e3)=>({parent:t,fire:n})=>{const r=t.classList,o=e=>n(`marp-${e?"":"in"}active`);let a;const i=()=>{a&&clearTimeout(a),a=setTimeout(()=>{r.add(_),o()},e),r.contains(_)&&(r.remove(_),o(!0))};for(const e of["mousedown","mousemove","touchend"])document.addEventListener(e,i);setTimeout(i,0)},I=["AUDIO","BUTTON","INPUT","SELECT","TEXTAREA","VIDEO"],M=e=>{e.parent.addEventListener("keydown",e=>{if(!e.target)return;const t=e.target;(I.includes(t.nodeName)||"true"===t.contentEditable)&&e.stopPropagation()})},O=e=>{window.addEventListener("load",()=>{for(const t of e.slides){const e=t.querySelector("marp-auto-scaling, [data-auto-scaling], [data-marp-fitting]");t.setAttribute(`${f}load`,e?"":"hideable")}})},A=({interval:e=250}={})=>t=>{document.addEventListener("keydown",e=>{if(" "===e.key&&e.shiftKey)t.prev();else if("ArrowLeft"===e.key||"ArrowUp"===e.key||"PageUp"===e.key)t.prev({fragment:!e.shiftKey});else if(" "!==e.key||e.shiftKey)if("ArrowRight"===e.key||"ArrowDown"===e.key||"PageDown"===e.key)t.next({fragment:!e.shiftKey});else if("End"===e.key)t.slide(t.slides.length-1,{fragment:-1});else{if("Home"!==e.key)return;t.slide(0)}else t.next();e.preventDefault()});let n,r,o=0;t.parent.addEventListener("wheel",a=>{let i=!1;const s=(e,t)=>{e&&(i=i||((e,t)=>((e,t)=>{const n="X"===t?"Width":"Height";return e[`client${n}`]<e[`scroll${n}`]})(e,t)&&((e,t)=>{const{overflow:n}=e,r=e[`overflow${t}`];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r})(getComputedStyle(e),t))(e,t)),e?.parentElement&&s(e.parentElement,t)};if(0!==a.deltaX&&s(a.target,"X"),0!==a.deltaY&&s(a.target,"Y"),i)return;a.preventDefault();const c=Math.sqrt(a.deltaX**2+a.deltaY**2);if(void 0!==a.wheelDelta){if(void 0===a.webkitForce&&Math.abs(a.wheelDelta)<40)return;if(a.deltaMode===a.DOM_DELTA_PIXEL&&c<4)return}else if(a.deltaMode===a.DOM_DELTA_PIXEL&&c<12)return;r&&clearTimeout(r),r=setTimeout(()=>{n=0},e);const l=Date.now()-o<e,d=c<=n;if(n=c,l||d)return;let u;(a.deltaX>0||a.deltaY>0)&&(u="next"),(a.deltaX<0||a.deltaY<0)&&(u="prev"),u&&(t[u](),o=Date.now())})},C=(e=`.${u}osc`)=>{const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[${f}osc=${JSON.stringify(e)}]`).forEach(n)};return L()||n("fullscreen",e=>e.style.display="none"),h||n("presenter",e=>{e.disabled=!0,e.title="Presenter view is disabled due to restricted localStorage."}),e=>{t.addEventListener("click",t=>{if(t.target instanceof HTMLElement){const{bespokeMarpOsc:n}=t.target.dataset;n&&t.target.blur();const r={fragment:!t.shiftKey};"next"===n?e.next(r):"prev"===n?e.prev(r):"fullscreen"===n?e?.fullscreen():"presenter"===n&&e.openPresenterView()}}),e.parent.appendChild(t),e.on("activate",({index:t})=>{n("page",n=>n.textContent=`Page ${t+1} of ${e.slides.length}`)}),e.on("fragment",({index:t,fragments:r,fragmentIndex:o})=>{n("prev",e=>e.disabled=0===t&&0===o),n("next",n=>n.disabled=t===e.slides.length-1&&o===r.length-1)}),e.on("marp-active",()=>x(t,!1)),e.on("marp-inactive",()=>x(t,!0)),L()&&(e=>{for(const t of["","webkit"])E.addEventListener(t+"fullscreenchange",e)})(()=>n("fullscreen",e=>e.classList.toggle("exit",L()&&S())))}},D=e=>{window.addEventListener("message",t=>{if(t.origin!==window.origin)return;const[n,r]=t.data.split(":");if("navigate"===n){const[t,n]=r.split(",");let o=Number.parseInt(t,10),a=Number.parseInt(n,10)+1;a>=e.fragments[o].length&&(o+=1,a=0),e.slide(o,{fragment:a})}})};var N,B,q,K,F,j,V,U={exports:{}},X=(N||(N=1,U.exports=(B=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],q=function(e){return String(e).replace(/[&<>"']/g,function(e){return"&"+K[e]+";"})},K={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},F="dangerouslySetInnerHTML",j={className:"class",htmlFor:"for"},V={},function(e,t){var n=[],r="";t=t||{};for(var o=arguments.length;o-- >2;)n.push(arguments[o]);if("function"==typeof e)return t.children=n.reverse(),e(t);if(e){if(r+="<"+e,t)for(var a in t)!1!==t[a]&&null!=t[a]&&a!==F&&(r+=" "+(j[a]?j[a]:q(a))+'="'+q(t[a])+'"');r+=">"}if(-1===B.indexOf(e)){if(t[F])r+=t[F].__html;else for(;n.length;){var i=n.pop();if(i)if(i.pop)for(var s=i.length;s--;)n.push(i[s]);else r+=!0===V[i]?i:q(i)}r+=e?"</"+e+">":""}return V[r]=!0,r})),U.exports),H=e(X);const R=({children:e})=>H(null,null,...e),W=`${u}presenter-`,J={container:`${W}container`,dragbar:`${W}dragbar-container`,next:`${W}next`,nextContainer:`${W}next-container`,noteContainer:`${W}note-container`,noteWrapper:`${W}note-wrapper`,noteButtons:`${W}note-buttons`,infoContainer:`${W}info-container`,infoPage:`${W}info-page`,infoPageText:`${W}info-page-text`,infoPagePrev:`${W}info-page-prev`,infoPageNext:`${W}info-page-next`,noteButtonsBigger:`${W}note-bigger`,noteButtonsSmaller:`${W}note-smaller`,infoTime:`${W}info-time`,infoTimer:`${W}info-timer`},Y=e=>{const{title:t}=document;document.title="[Presenter view]"+(t?` - ${t}`:"");const n={},r=e=>(n[e]=n[e]||document.querySelector(`.${e}`),n[e]);document.body.appendChild((e=>{const t=document.createElement("div");return t.className=J.container,t.appendChild(e),t.insertAdjacentHTML("beforeend",H(R,null,H("div",{class:J.nextContainer},H("iframe",{class:J.next,src:"?view=next"})),H("div",{class:J.dragbar}),H("div",{class:J.noteContainer},H("div",{class:J.noteWrapper}),H("div",{class:J.noteButtons},H("button",{class:J.noteButtonsSmaller,tabindex:"-1",title:"Smaller notes font size"},"Smaller notes font size"),H("button",{class:J.noteButtonsBigger,tabindex:"-1",title:"Bigger notes font size"},"Bigger notes font size"))),H("div",{class:J.infoContainer},H("div",{class:J.infoPage},H("button",{class:J.infoPagePrev,tabindex:"-1",title:"Previous"},"Previous"),H("span",{class:J.infoPageText}),H("button",{class:J.infoPageNext,tabindex:"-1",title:"Next"},"Next")),H("time",{class:J.infoTime,title:"Current time"}),H("time",{class:J.infoTimer,title:"Timer"})))),t})(e.parent)),(e=>{let t=!1;r(J.dragbar).addEventListener("mousedown",()=>{t=!0,r(J.dragbar).classList.add("active")}),window.addEventListener("mouseup",()=>{t=!1,r(J.dragbar).classList.remove("active")}),window.addEventListener("mousemove",e=>{if(!t)return;const n=e.clientX/document.documentElement.clientWidth*100;r(J.container).style.setProperty("--bespoke-marp-presenter-split-ratio",`${Math.max(0,Math.min(100,n))}%`)}),r(J.nextContainer).addEventListener("click",()=>e.next());const n=r(J.next),o=(a=n,(e,t)=>a.contentWindow?.postMessage(`navigate:${e},${t}`,"null"===window.origin?"*":window.origin));var a;n.addEventListener("load",()=>{r(J.nextContainer).classList.add("active"),o(e.slide(),e.fragmentIndex),e.on("fragment",({index:e,fragmentIndex:t})=>o(e,t))});const i=document.querySelectorAll(".bespoke-marp-note");i.forEach(e=>{e.addEventListener("keydown",e=>e.stopPropagation()),r(J.noteWrapper).appendChild(e)}),e.on("activate",()=>i.forEach(t=>t.classList.toggle("active",t.dataset.index==e.slide())));let s=0;const c=e=>{s=Math.max(-5,s+e),r(J.noteContainer).style.setProperty("--bespoke-marp-note-font-scale",(1.2**s).toFixed(4))},l=()=>c(1),d=()=>c(-1),u=r(J.noteButtonsBigger),f=r(J.noteButtonsSmaller);u.addEventListener("click",()=>{u.blur(),l()}),f.addEventListener("click",()=>{f.blur(),d()}),document.addEventListener("keydown",e=>{"+"===e.key&&l(),"-"===e.key&&d()},!0),e.on("activate",({index:t})=>{r(J.infoPageText).textContent=`${t+1} / ${e.slides.length}`});const m=r(J.infoPagePrev),g=r(J.infoPageNext);m.addEventListener("click",t=>{m.blur(),e.prev({fragment:!t.shiftKey})}),g.addEventListener("click",t=>{g.blur(),e.next({fragment:!t.shiftKey})}),e.on("fragment",({index:t,fragments:n,fragmentIndex:r})=>{m.disabled=0===t&&0===r,g.disabled=t===e.slides.length-1&&r===n.length-1});let p=new Date;const v=()=>{const e=new Date,t=e=>`${Math.floor(e)}`.padStart(2,"0"),n=e.getTime()-p.getTime(),o=t(n/1e3%60),a=t(n/1e3/60%60),i=t(n/36e5%24);r(J.infoTime).textContent=e.toLocaleTimeString(),r(J.infoTimer).textContent=`${i}:${a}:${o}`};v(),setInterval(v,250),r(J.infoTimer).addEventListener("click",()=>{p=new Date})})(e)},z=e=>{if(!(e=>e.syncKey&&"string"==typeof e.syncKey)(e))throw new Error("The current instance of Bespoke.js is invalid for Marp bespoke presenter plugin.");Object.defineProperties(e,{openPresenterView:{enumerable:!0,value:G},presenterUrl:{enumerable:!0,get:Q}}),h&&document.addEventListener("keydown",t=>{"p"!==t.key||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),e.openPresenterView())})};function G(){const{max:e,floor:t}=Math,n=e(t(.85*window.innerWidth),640),r=e(t(.85*window.innerHeight),360);return window.open(this.presenterUrl,W+this.syncKey,`width=${n},height=${r},menubar=no,toolbar=no`)}function Q(){const e=new URLSearchParams(location.search);return e.set("view","presenter"),e.set("sync",this.syncKey),m(e)}const Z=e=>{const t=g();return t===l&&e.appendChild(document.createElement("span")),{[s]:z,[c]:Y,[l]:D}[t]},ee=e=>{e.on("activate",t=>{document.querySelectorAll(".bespoke-progress-parent > .bespoke-progress-bar").forEach(n=>{n.style.flexBasis=100*t.index/(e.slides.length-1)+"%"})})},te=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t},ne=(e={})=>{const t={history:!0,...e};return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},o=(t={fragment:!0})=>{let n=t.fragment?te(p("f")||""):null;((t,n)=>{const{min:r,max:o}=Math,{fragments:a,slides:i}=e,s=o(0,r(t,i.length-1)),c=o(0,r(n||0,a[s].length-1));s===e.slide()&&c===e.fragmentIndex||e.slide(s,{fragment:c})})((()=>{if(location.hash){const[t]=location.hash.slice(1).split(":~:");if(/^\d+$/.test(t))return(te(t)??1)-1;const r=document.getElementById(t)||document.querySelector(`a[name="${CSS.escape(t)}"]`);if(r){const{length:t}=e.slides;for(let o=0;o<t;o+=1)if(e.slides[o].contains(r)){const t=e.fragments?.[o],a=r.closest("[data-marpit-fragment]");if(t&&a){const e=t.indexOf(a);e>=0&&(n=e)}return o}}}return 0})(),n)};e.on("fragment",({index:e,fragmentIndex:r})=>{n||v({f:0===r||r.toString()},{location:{...location,hash:`#${e+1}`},setter:(...e)=>t.history?history.pushState(...e):history.replaceState(...e)})}),setTimeout(()=>{o(),window.addEventListener("hashchange",()=>r(()=>{o({fragment:!1}),v({f:void 0})})),window.addEventListener("popstate",()=>{n||r(()=>o())}),n=!1},0)}},re=(e={})=>{const t=e.key||window.history.state?.marpBespokeSyncKey||Math.random().toString(36).slice(2),n=`bespoke-marp-sync-${t}`;var r;r={marpBespokeSyncKey:t},v({},{setter:(e,...t)=>i({...e,...r},...t)});const o=()=>{const e=y(n);return e?JSON.parse(e):Object.create(null)},a=e=>{const t=o(),r={...t,...e(t)};return b(n,JSON.stringify(r)),r},s=()=>{window.removeEventListener("pageshow",s),a(e=>({reference:(e.reference||0)+1}))};return e=>{s(),Object.defineProperty(e,"syncKey",{value:t,enumerable:!0});let r=!0;setTimeout(()=>{e.on("fragment",e=>{r&&a(()=>({index:e.index,fragmentIndex:e.fragmentIndex}))})},0),window.addEventListener("storage",t=>{if(t.key===n&&t.oldValue&&t.newValue){const n=JSON.parse(t.oldValue),o=JSON.parse(t.newValue);if(n.index!==o.index||n.fragmentIndex!==o.fragmentIndex)try{r=!1,e.slide(o.index,{fragment:o.fragmentIndex,forSync:!0})}finally{r=!0}}});const i=()=>{const{reference:e}=o();void 0===e||e<=1?w(n):a(()=>({reference:e-1}))};window.addEventListener("pagehide",e=>{e.persisted&&window.addEventListener("pageshow",s),i()}),e.on("destroy",i)}},{PI:oe,abs:ae,sqrt:ie,atan2:se}=Math,ce={passive:!0},le=({slope:e=-.7,swipeThreshold:t=30}={})=>n=>{let r;const o=n.parent,a=e=>{const t=o.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};o.addEventListener("touchstart",({touches:e})=>{r=1===e.length?a(e[0]):void 0},ce),o.addEventListener("touchmove",e=>{if(r)if(1===e.touches.length){e.preventDefault();const t=a(e.touches[0]),n=t.x-r.x,o=t.y-r.y;r.delta=ie(ae(n)**2+ae(o)**2),r.radian=se(n,o)}else r=void 0}),o.addEventListener("touchend",o=>{if(r){if(r.delta&&r.delta>=t&&r.radian){const t=(r.radian-e+oe)%(2*oe)-oe;n[t<0?"next":"prev"](),o.stopPropagation()}r=void 0}},ce)},de=new Map;de.clear(),de.set("none",{backward:{both:void 0,incoming:void 0,outgoing:void 0},forward:{both:void 0,incoming:void 0,outgoing:void 0}});const ue={both:"",outgoing:"outgoing-",incoming:"incoming-"},fe={forward:"",backward:"-backward"},me=e=>`--marp-bespoke-transition-animation-${e}`,ge=e=>`--marp-transition-${e}`,pe=me("name"),ve=me("duration"),he=e=>new Promise(t=>{const n={},r=document.createElement("div"),o=e=>{r.remove(),t(e)};r.addEventListener("animationstart",()=>o(n)),Object.assign(r.style,{animationName:e,animationDuration:"1s",animationFillMode:"both",animationPlayState:"paused",position:"absolute",pointerEvents:"none"}),document.body.appendChild(r);const a=getComputedStyle(r).getPropertyValue(ge("duration"));a&&Number.parseFloat(a)>=0&&(n.defaultDuration=a),((e,t)=>{requestAnimationFrame(()=>{e.style.animationPlayState="running",requestAnimationFrame(()=>t(void 0))})})(r,o)}),ye=async e=>de.has(e)?de.get(e):(e=>{const t={},n=[];for(const[r,o]of Object.entries(ue))for(const[a,i]of Object.entries(fe)){const s=`marp-${o}transition${i}-${e}`;n.push(he(s).then(e=>{t[a]=t[a]||{},t[a][r]=e?{...e,name:s}:void 0}))}return Promise.all(n).then(()=>t)})(e).then(t=>(de.set(e,t),t)),be=e=>Object.values(e).flatMap(Object.values).every(e=>!e),we=(e,{type:t,backward:n})=>{const r=e[n?"backward":"forward"],o=(()=>{const e=r[t],n=e=>({[pe]:e.name});if(e)return n(e);if(r.both){const e=n(r.both);return"incoming"===t&&(e[me("direction")]="reverse"),e}})();return!o&&n?we(e,{type:t,backward:!1}):o||{[pe]:"__bespoke_marp_transition_no_animation__"}},xe=e=>{if(e)try{const t=JSON.parse(e);if((e=>{if("object"!=typeof e)return!1;const t=e;return"string"==typeof t.name&&(void 0===t.duration||"string"==typeof t.duration)})(t))return t}catch{}},ke="_tSId",$e="_tA",Ee="bespoke-marp-transition-warming-up",Le=window.matchMedia("(prefers-reduced-motion: reduce)"),Se="__bespoke_marp_transition_reduced_outgoing__",Pe="__bespoke_marp_transition_reduced_incoming__",_e={forward:{both:void 0,incoming:{name:Pe},outgoing:{name:Se}},backward:{both:void 0,incoming:{name:Pe},outgoing:{name:Se}}},Te=e=>{if(!document.startViewTransition)return;const t=t=>(void 0!==t&&(e._tD=t),e._tD);let n;t(!1),((...e)=>{CSS.registerProperty({name:ge("duration"),syntax:"<time>",inherits:!0,initialValue:"-1s"});const t=[...new Set(e).values()];return Promise.all(t.map(e=>ye(e))).then()})(...Array.from(document.querySelectorAll("section[data-transition], section[data-transition-back]")).flatMap(e=>[e.dataset.transition,e.dataset.transitionBack].flatMap(e=>{const t=xe(e);return[t?.name,t?.builtinFallback?`__builtin__${t.name}`:void 0]}).filter(e=>!!e))).then(()=>{document.querySelectorAll("style").forEach(e=>{e.innerHTML=e.innerHTML.replace(/--marp-transition-duration:[^;}]*[;}]/g,e=>e.slice(0,-1)+"!important"+e.slice(-1))})});const r=(n,{back:r,cond:o})=>a=>{const i=t();if(i)return!!a[$e]||!("object"!=typeof i||(i.skipTransition(),!a.forSync));if(!o(a))return!0;const s=e.slides[e.slide()],c=()=>a.back??r,l="data-transition"+(c()?"-back":""),d=s.querySelector(`section[${l}]`);if(!d)return!0;const u=xe(d.getAttribute(l)??void 0);return!u||((async(e,{builtinFallback:t=!0}={})=>{let n=await ye(e);if(be(n)){if(!t)return;return n=await ye(`__builtin__${e}`),be(n)?void 0:n}return n})(u.name,{builtinFallback:u.builtinFallback}).then(e=>{if(!e){t(!0);try{n(a)}finally{t(!1)}return}let r=e;Le.matches&&(console.warn("Use a constant animation to transition because preferring reduced motion by viewer has detected."),r=_e);const o=document.getElementById(ke);o&&o.remove();const i=document.createElement("style");i.id=ke,document.head.appendChild(i),((e,t)=>{const n=[`:root{${ge("direction")}:${t.backward?-1:1};}`,":root:has(.bespoke-marp-inactive){cursor:none;}"],r=t=>{const n=e[t].both?.defaultDuration||e[t].outgoing?.defaultDuration||e[t].incoming?.defaultDuration;return"forward"===t?n:n||r("forward")},o=t.duration||r(t.backward?"backward":"forward");void 0!==o&&n.push(`::view-transition-group(*){${ve}:${o};}`);const a=e=>Object.entries(e).map(([e,t])=>`${e}:${t};`).join("");return n.push(`::view-transition-old(root){${a(we(e,{...t,type:"outgoing"}))}}`,`::view-transition-new(root){${a(we(e,{...t,type:"incoming"}))}}`),n})(r,{backward:c(),duration:u.duration}).forEach(e=>i.sheet?.insertRule(e));const s=document.documentElement.classList;s.add(Ee);let l=!1;const d=()=>{l||(n(a),l=!0,s.remove(Ee))},f=()=>{t(!1),i.remove(),s.remove(Ee)};try{t(!0);const e=document.startViewTransition(d);t(e),e.finished.finally(f)}catch(e){console.error(e),d(),f()}}),!1)};e.on("prev",r(t=>e.prev({...t,[$e]:!0}),{back:!0,cond:e=>e.index>0&&!((e.fragment??1)&&n.fragmentIndex>0)})),e.on("next",r(t=>e.next({...t,[$e]:!0}),{cond:t=>t.index+1<e.slides.length&&!(n.fragmentIndex+1<n.fragments.length)})),setTimeout(()=>{e.on("slide",r(t=>e.slide(t.index,{...t,[$e]:!0}),{cond:t=>{const n=e.slide();return t.index!==n&&(t.back=t.index<n,!0)}}))},0),e.on("fragment",e=>{n=e})};let Ie;const Me=()=>(void 0===Ie&&(Ie="wakeLock"in navigator&&navigator.wakeLock),Ie),Oe=async()=>{const e=Me();if(e)try{return await e.request("screen")}catch(e){console.warn(e)}return null},Ae=async()=>{if(!Me())return;let e;const t=()=>{e&&"visible"===document.visibilityState&&Oe()};for(const e of["visibilitychange","fullscreenchange"])document.addEventListener(e,t);return e=await Oe(),e};((e=document.getElementById(":$p"))=>{(()=>{const e=p("view");a.dataset.bespokeView=e===l||e===c?e:""})();const t=(e=>{const t=p(e);return v({[e]:void 0}),t})("sync")||void 0;o.from(e,((...e)=>{const t=d.findIndex(e=>g()===e);return e.map(([e,n])=>e[t]&&n).filter(e=>e)})([[1,1,0],re({key:t})],[[1,1,1],Z(e)],[[1,1,0],M],[[1,1,1],k],[[1,0,0],T()],[[1,1,1],O],[[1,1,1],ne({history:!1})],[[1,1,0],A()],[[1,1,0],P],[[1,0,0],ee],[[1,1,0],le()],[[1,0,0],C()],[[1,0,0],Te],[[1,1,1],$],[[1,1,0],Ae]))})()}();</script></body></html>